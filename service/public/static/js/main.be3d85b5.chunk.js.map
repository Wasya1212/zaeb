{"version":3,"sources":["serviceWorker.js","constants/action-types.js","reducers/index.js","store/index.js","actions/index.js","components/Users.jsx","components/Auth.jsx","components/Header.jsx","components/LoginForm.jsx","pages/SignIn.jsx","components/RegistrationForm.jsx","pages/SignUp.jsx","pages/Profile.jsx","components/Chat.jsx","pages/Chat.jsx","pages/Message.jsx","index.js"],"names":["isLocalhost","Boolean","window","location","hostname","match","registerValidSW","swUrl","config","navigator","serviceWorker","register","then","registration","onupdatefound","installingWorker","installing","onstatechange","state","controller","console","log","onUpdate","onSuccess","catch","error","ADD_ARTICLE","ADD_TOKEN","ADD_AUTHENTICATION","REMOVE_AUTHENTICATION","initialState","articles","token","localStorage","getItem","isAuthenticated","rootReducer","arguments","length","undefined","action","type","Object","assign","concat","payload","store","createStore","addToken","addAuthentication","removeAuthentication","UsersList","props","_this","classCallCheck","this","possibleConstructorReturn","getPrototypeOf","call","showUserModal","user","setState","userModalIsOpen","closeUserModal","_this2","react_default","a","createElement","className","users","map","onClick","Users_UserProfile","lib_default","isOpen","onRequestClose","contentLabel","Users_UserView","react_router_dom","to","_id","toString","Component","SearchUsersButton","_this3","findUsers","name","axios","post","_ref","data","err","handleUsersChange","e","target","value","hideUsersList","setTimeout","checked","showUsersList","onFocus","onBlur","placeholder","onChange","Users_UsersList","hidden","UserProfile","src","info","photo","email","UserView","_ref2","salary","s","status","work_times","start","end","wt","work_days","indexOf","UserSettingsButton","_this4","onFileChange","selectedFile","files","onWorkDaysChange","workDays","filter","workDay","onSalaryChange","onPostChange","onPhoneChange","phone","onStartWorkTimeChange","startWorkTime","onEndWorkTimeChange","endWorkTime","onSubmit","preventDefault","validateForm","alert","FormData","append","JSON","stringify","avatarImage","headers","content-type","_ref3","updatedUser","onUpdating","valid","test","id","mapDispatchToProps","dispatch","LogoutComponent","logout","removeItem","reload","children","AuthComponent","redirect","successRedirect","react_router","failureRedirect","Auth","connect","LogoutBtn","Modal","setAppElement","Navigation","Logo","alt","Header","Header_Logo","Users_SearchUsersButton","Header_Navigation","LoginForm","handleChange","defineProperty","handleSubmit","password","setItem","success","clear","required","Login","SignIn","successLogin","components_LoginForm","RegistrationForm","username","reEmail","rePassword","Registration","SignUp","successregistration","components_RegistrationForm","Profile","handleUserUpdate","Users_UserSettingsButton","ChatView","chat","messages","timestamp","date","slice","time","getTime","updatedAt","ChatList","Array","isArray","chats","key","Chat_ChatView","CreateChatComponent","private","chatName","afterCreate","AddUserToChatBtn","showAddUsersToChatModal","addUserToChatModalIsOpen","hideAddUsersToChatModal","requestProcessing","addUser","userId","chatId","resolve","Chat","showCreateChatForm","createChatModalIsOpen","closeCreateChatForm","afterChatCreate","Chat_CreateChatComponent","Chat_ChatList","Message","getConversationMessages","interlocutorId","getDiscussionMessages","_ref4","sendMessage","message","sendingMessage","_ref5","socket","emit","room","params","textInput","current","handleMessageChange","React","createRef","_this$props$match$par","direction","get","socketIOClient","on","_ref6","prevProps","prevState","_this$props$match$par2","Chat_AddUserToChatBtn","author","text","ref","addArticle","ReactDOM","render","es","components_Header","path","component","SignInPage","SignUpPage","ProfilePage","exact","ChatPage","MessagePage","document","getElementById","URL","process","href","origin","addEventListener","fetch","response","contentType","ready","unregister","checkValidServiceWorker"],"mappings":"gRAYMA,SAAcC,QACW,cAA7BC,OAAOC,SAASC,UAEe,UAA7BF,OAAOC,SAASC,UAEhBF,OAAOC,SAASC,SAASC,MACvB,4DAsCN,SAASC,EAAgBC,EAAOC,GAC9BC,UAAUC,cACPC,SAASJ,GACTK,KAAK,SAAAC,GACJA,EAAaC,cAAgB,WAC3B,IAAMC,EAAmBF,EAAaG,WACd,MAApBD,IAGJA,EAAiBE,cAAgB,WACA,cAA3BF,EAAiBG,QACfT,UAAUC,cAAcS,YAI1BC,QAAQC,IACN,iHAKEb,GAAUA,EAAOc,UACnBd,EAAOc,SAAST,KAMlBO,QAAQC,IAAI,sCAGRb,GAAUA,EAAOe,WACnBf,EAAOe,UAAUV,UAO5BW,MAAM,SAAAC,GACLL,QAAQK,MAAM,4CAA6CA,gCChGpDC,EAAc,cACdC,EAAY,YACZC,EAAqB,qBACrBC,EAAwB,wBCI/BC,EAAe,CACnBC,SAAU,GACVC,MAAOC,aAAaC,QAAQ,UAAY,GACxCC,iBAAiB,GAiCJC,MA9Bf,WAAmD,IAA9BlB,EAA8BmB,UAAAC,OAAA,QAAAC,IAAAF,UAAA,GAAAA,UAAA,GAAtBP,EAAcU,EAAQH,UAAAC,OAAA,EAAAD,UAAA,QAAAE,EACjD,OAAIC,EAAOC,OAASf,EACXgB,OAAOC,OAAO,GAAIzB,EAAO,CAC9Ba,SAAUb,EAAMa,SAASa,OAAOJ,EAAOK,WAIvCL,EAAOC,OAASd,EACXe,OAAOC,OAAO,GAAIzB,EAAO,CAC9Bc,MAAOQ,EAAOK,UAIdL,EAAOC,OAASb,GAClBR,QAAQC,IAAI,YACLqB,OAAOC,OAAO,GAAIzB,EAAO,CAC9BiB,iBAAiB,KAIjBK,EAAOC,OAASZ,GAClBT,QAAQC,IAAI,eACLqB,OAAOC,OAAO,GAAIzB,EAAO,CAC9BiB,iBAAiB,KAIdjB,GCnCM4B,EAFDC,YAAYX,GCQnB,SAASY,EAASH,GACvB,MAAO,CAAEJ,KAAMd,EAAWkB,WAGrB,SAASI,IACd,MAAO,CAAER,KAAMb,GAGV,SAASsB,IACd,MAAO,CAAET,KAAMZ,2ECZXsB,sBACJ,SAAAA,EAAYC,GAAO,IAAAC,EAAA,OAAAX,OAAAY,EAAA,EAAAZ,CAAAa,KAAAJ,IACjBE,EAAAX,OAAAc,EAAA,EAAAd,CAAAa,KAAAb,OAAAe,EAAA,EAAAf,CAAAS,GAAAO,KAAAH,KAAMH,KAQRO,cAAgB,SAAAC,GACdP,EAAKQ,SAAS,CACZC,iBAAiB,EACjBF,UAZeP,EAgBnBU,eAAiB,WACfV,EAAKQ,SAAS,CACZC,iBAAiB,EACjBF,KAAM,MAhBRP,EAAKnC,MAAQ,CACX4C,iBAAiB,EACjBF,KAAM,IALSP,wEAuBV,IAAAW,EAAAT,KACP,OACEU,EAAAC,EAAAC,cAAA,WACEF,EAAAC,EAAAC,cAAA,KAAAzB,OAAAC,OAAA,GAAQY,KAAKH,MAAb,CAAoBgB,UAAU,sBAC3Bb,KAAKH,MAAMiB,MAAMC,IAAI,SAAAV,GAAI,OAAKK,EAAAC,EAAAC,cAAA,MAAIC,UAAU,0BAA0BG,QAAS,WAAQP,EAAKL,cAAcC,KAAUK,EAAAC,EAAAC,cAACK,EAAD,CAAaZ,KAAMA,QAE1IK,EAAAC,EAAAC,cAACM,EAAAP,EAAD,CACEQ,OAAQnB,KAAKrC,MAAM4C,gBACnBa,eAAgBpB,KAAKQ,eACrBa,aAAa,cAGXrB,KAAKrC,MAAM4C,gBACTG,EAAAC,EAAAC,cAAA,WACEF,EAAAC,EAAAC,cAACU,EAAD,CAAUjB,KAAML,KAAKrC,MAAM0C,OAC3BK,EAAAC,EAAAC,cAACW,EAAA,EAAD,CAAMC,GAAI,sBAAwBxB,KAAKrC,MAAM0C,KAAKoB,IAAIC,WAAYV,QAAShB,KAAKQ,gBAAhF,oBAEA,KACNE,EAAAC,EAAAC,cAAA,UAAQC,UAAU,kBAAkBG,QAAShB,KAAKQ,gBAAlD,wBA1CcmB,cAiDlBC,cACJ,SAAAA,EAAY/B,GAAO,IAAAgC,EAAA,OAAA1C,OAAAY,EAAA,EAAAZ,CAAAa,KAAA4B,IACjBC,EAAA1C,OAAAc,EAAA,EAAAd,CAAAa,KAAAb,OAAAe,EAAA,EAAAf,CAAAyC,GAAAzB,KAAAH,KAAMH,KAQRiC,UAAY,SAAAC,GACVC,IACGC,KAAK,aAAc,CAAEF,KAAMA,EAAMtD,MAAOC,aAAaC,QAAQ,WAC7DtB,KAAK,SAAA6E,GAAqB,IAAZpB,EAAYoB,EAAlBC,KACPN,EAAKvB,SAAS,CAAEQ,YAEjB7C,MAAM,SAAAmE,GACLvE,QAAQC,IAAIsE,MAhBCP,EAoBnBQ,kBAAoB,SAAAC,GACK,KAAnBA,EAAEC,OAAOC,MACXX,EAAKvB,SAAS,CACZQ,MAAO,KAGTe,EAAKC,UAAUQ,EAAEC,OAAOC,QA1BTX,EA8BnBY,cAAgB,SAAAH,GACdI,WAAW,WACTb,EAAKvB,SAAS,CACZqC,SAAS,KAEV,MAnCcd,EAsCnBe,cAAgB,SAAAN,GACdT,EAAKvB,SAAS,CACZqC,SAAS,KArCXd,EAAKlE,MAAQ,CACXmD,MAAO,GACP6B,SAAS,GALMd,wEA6CjB,OACEnB,EAAAC,EAAAC,cAAA,QAAMC,UAAU,qBACdH,EAAAC,EAAAC,cAAA,SACEiC,QAAS7C,KAAK4C,cACdE,OAAQ9C,KAAKyC,cACbM,YAAY,kBACZC,SAAUhD,KAAKqC,oBAEjB3B,EAAAC,EAAAC,cAACqC,EAAD,CAAWC,QAASlD,KAAKrC,MAAMgF,QAAS7B,MAAOd,KAAKrC,MAAMmD,gBAtDlCa,aA4D1BwB,EAAc,SAAAtD,GAAK,OACvBa,EAAAC,EAAAC,cAAA,MAAAzB,OAAAC,OAAA,GAASS,EAAT,CAAgBgB,UAAU,iBACxBH,EAAAC,EAAAC,cAAA,OAAKC,UAAU,yBACbH,EAAAC,EAAAC,cAAA,OAAKwC,IAAKvD,EAAMQ,KAAKgD,KAAKC,OAAS,8GAErC5C,EAAAC,EAAAC,cAAA,OAAKC,UAAU,sBACbH,EAAAC,EAAAC,cAAA,OAAKC,UAAU,sBAAsBhB,EAAMQ,KAAKgD,KAAKtB,MACrDrB,EAAAC,EAAAC,cAAA,OAAKC,UAAU,uBAAuBhB,EAAMQ,KAAKkD,UAiBjDC,EAAW,SAAAC,GAAA,IAAEpD,EAAFoD,EAAEpD,KAAF,OACfK,EAAAC,EAAAC,cAAA,OAAKC,UAAU,aACbH,EAAAC,EAAAC,cAAA,OAAKC,UAAU,sBACbH,EAAAC,EAAAC,cAAA,OAAKwC,IAAK/C,EAAKgD,KAAKC,OAAS,8GAE/B5C,EAAAC,EAAAC,cAAA,MAAIC,UAAU,mBACZH,EAAAC,EAAAC,cAAA,MAAIC,UAAU,mBAAd,SAAuCR,EAAKgD,KAAKtB,MAAQ,IACzDrB,EAAAC,EAAAC,cAAA,MAAIC,UAAU,oBAAd,UAAyCR,EAAKkD,OAAS,IACvD7C,EAAAC,EAAAC,cAAA,MAAIC,UAAU,mBAAd,SAAuCR,EAAKgD,KAAKpB,MAAQ,IACzDvB,EAAAC,EAAAC,cAAA,MAAIC,UAAU,qBAAd,WAA2CR,EAAKgD,KAAKK,QAAU,GAA/D,QACAhD,EAAAC,EAAAC,cAAA,MAAIC,UAAU,wBAAd,eAtBK,SAAAR,GACT,IAAIsD,EAEJ,IACEA,GAAKtD,EAAKgD,KAAKO,OAAOC,WAAWC,OAAS,IAAM,OAASzD,EAAKgD,KAAKO,OAAOC,WAAWE,KAAO,IAC5F,MAAMzB,GACNqB,EAAI,GAHN,QAKE,OAAOA,GAc6CK,CAAG3D,IACrDK,EAAAC,EAAAC,cAAA,MAAIC,UAAU,wBACZH,EAAAC,EAAAC,cAAA,OAAKC,WAAqD,GAA1CR,EAAKgD,KAAKO,OAAOK,UAAUC,QAAQ,GAAW,MAAQ,kBAAtE,MACAxD,EAAAC,EAAAC,cAAA,OAAKC,WAAqD,GAA1CR,EAAKgD,KAAKO,OAAOK,UAAUC,QAAQ,GAAW,MAAQ,kBAAtE,MACAxD,EAAAC,EAAAC,cAAA,OAAKC,WAAqD,GAA1CR,EAAKgD,KAAKO,OAAOK,UAAUC,QAAQ,GAAW,MAAQ,kBAAtE,MACAxD,EAAAC,EAAAC,cAAA,OAAKC,WAAqD,GAA1CR,EAAKgD,KAAKO,OAAOK,UAAUC,QAAQ,GAAW,MAAQ,kBAAtE,MACAxD,EAAAC,EAAAC,cAAA,OAAKC,WAAqD,GAA1CR,EAAKgD,KAAKO,OAAOK,UAAUC,QAAQ,GAAW,MAAQ,kBAAtE,MACAxD,EAAAC,EAAAC,cAAA,OAAKC,WAAqD,GAA1CR,EAAKgD,KAAKO,OAAOK,UAAUC,QAAQ,GAAW,MAAQ,kBAAtE,MACAxD,EAAAC,EAAAC,cAAA,OAAKC,WAAqD,GAA1CR,EAAKgD,KAAKO,OAAOK,UAAUC,QAAQ,GAAW,MAAQ,kBAAtE,UAMFC,cACJ,SAAAA,EAAYtE,GAAO,IAAAuE,EAAAjF,OAAAY,EAAA,EAAAZ,CAAAa,KAAAmE,IACjBC,EAAAjF,OAAAc,EAAA,EAAAd,CAAAa,KAAAb,OAAAe,EAAA,EAAAf,CAAAgF,GAAAhE,KAAAH,KAAMH,KAgCRO,cAAgB,SAAAC,GACd+D,EAAK9D,SAAS,CACZC,iBAAiB,KAnCF6D,EAuCnB5D,eAAiB,WACf4D,EAAK9D,SAAS,CACZC,iBAAiB,KAzCF6D,EA6CnBC,aAAe,SAAA/B,GACb8B,EAAK9D,SAAS,CACZgE,aAAchC,EAAEC,OAAOgC,MAAM,MA/CdH,EAmDnBI,iBAAmB,SAAAlC,GACbA,EAAEC,OAAOI,QACXyB,EAAK9D,SAAS,CACZmE,SAAUL,EAAKzG,MAAM8G,SAASpF,OAAOiD,EAAEC,OAAOC,SAGhD4B,EAAK9D,SAAS,CACZmE,SAAUL,EAAKzG,MAAM8G,SAASC,OAAO,SAAAC,GAAO,OAAIA,GAAWrC,EAAEC,OAAOC,WA1DvD4B,EA+DnBQ,eAAiB,SAAAtC,GACf8B,EAAK9D,SAAS,CACZoD,OAAQpB,EAAEC,OAAOC,SAjEF4B,EAqEnBS,aAAe,SAAAvC,GACb8B,EAAK9D,SAAS,CACZ2B,KAAMK,EAAEC,OAAOC,SAvEA4B,EA2EnBU,cAAgB,SAAAxC,GACd8B,EAAK9D,SAAS,CACZyE,MAAOzC,EAAEC,OAAOC,SA7ED4B,EAiFnBY,sBAAwB,SAAA1C,GACtB8B,EAAK9D,SAAS,CACZ2E,cAAe3C,EAAEC,OAAOC,SAnFT4B,EAuFnBc,oBAAsB,SAAA5C,GACpB8B,EAAK9D,SAAS,CACZ6E,YAAa7C,EAAEC,OAAOC,SAzFP4B,EAuGnBgB,SAAW,SAAA9C,GAGT,GAFAA,EAAE+C,kBAEGjB,EAAKkB,eAER,OADAC,MAAM,gBACC,EAGT,IAAMpD,EAAO,IAAIqD,SACjBrD,EAAKsD,OAAO,QAAS/G,aAAaC,QAAQ,UAC1CwD,EAAKsD,OAAO,OAAQrB,EAAKzG,MAAM2G,cAC/BnC,EAAKsD,OAAO,WAAYC,KAAKC,UAAUvB,EAAKzG,MAAM8G,WAClDtC,EAAKsD,OAAO,SAAUrB,EAAKzG,MAAM+F,QACjCvB,EAAKsD,OAAO,OAAQrB,EAAKzG,MAAMsE,MAC/BE,EAAKsD,OAAO,gBAAiBrB,EAAKzG,MAAMsH,eACxC9C,EAAKsD,OAAO,cAAerB,EAAKzG,MAAMwH,aACtChD,EAAKsD,OAAO,QAASrB,EAAKzG,MAAMoH,OAChC5C,EAAKsD,OAAO,cAAerB,EAAKzG,MAAMiI,aAEtC5D,IAAMC,KAAK,iBAAkBE,EAAM,CAAE0D,QAAS,CAAEC,eAAgB,yBAC7DzI,KAAK,SAAA0I,GAAkB,IAAV1F,EAAU0F,EAAhB5D,KACNiC,EAAK9D,SAAS,CAAC0F,YAAa3F,MAE7BhD,KAAK,WACJ+G,EAAKvE,MAAMoG,WAAW7B,EAAKzG,MAAMqI,eAElC3I,KAAK,WACJ+G,EAAK5D,mBAENvC,MAAM,SAAAmE,GACLvE,QAAQK,MAAMkE,MAlIlB,IACEgC,EAAKzG,MAAQ,CACX4C,iBAAiB,EACjB+D,aAAc,KACdG,SAAUL,EAAKvE,MAAMQ,KAAKgD,KAAKO,OAAOK,WAAa,GACnDP,OAAQU,EAAKvE,MAAMQ,KAAKgD,KAAKK,QAAU,EACvCzB,KAAMmC,EAAKvE,MAAMQ,KAAKgD,KAAKpB,MAAQ,GACnCgD,cAAeb,EAAKvE,MAAMQ,KAAKgD,KAAKO,OAAOC,WAAWC,OAAS,GAC/DqB,YAAaf,EAAKvE,MAAMQ,KAAKgD,KAAKO,OAAOC,WAAWE,KAAO,GAC3DgB,MAAOX,EAAKvE,MAAMQ,KAAKgD,KAAK0B,OAAS,GACrCa,YAAaxB,EAAKvE,MAAMQ,KAAKgD,KAAKC,OAAS,GAC3C0C,YAAa,IAEf,MAAO1D,GACPzE,QAAQC,IAAIwE,GACZ8B,EAAKzG,MAAQ,CACX4C,iBAAiB,EACjB+D,aAAc,KACdG,SAAU,GACVf,OAAQ,EACRzB,KAAM,GACNgD,cAAe,GACfE,YAAa,GACbJ,MAAO,GACPa,YAAa,GACbI,YAAa,IA5BA,OAAA5B,8EA8FjB,IAAI8B,GAAQ,EAMZ,OAJ0D,GAAtD,4BAA4BC,KAAKnG,KAAKrC,MAAMoH,QAAuC,IAApB/E,KAAKrC,MAAMoH,QAC5EmB,GAAQ,GAGHA,mCAsCP,OACExF,EAAAC,EAAAC,cAAA,WACEF,EAAAC,EAAAC,cAAA,UAAQC,UAAU,oBAAoBG,QAAShB,KAAKI,eAApD,YACAM,EAAAC,EAAAC,cAACM,EAAAP,EAAD,CACEQ,OAAQnB,KAAKrC,MAAM4C,gBACnBa,eAAgBpB,KAAKQ,eACrBa,aAAa,cAEbX,EAAAC,EAAAC,cAAA,QAAMC,UAAU,qBAAqBuE,SAAUpF,KAAKoF,UAClD1E,EAAAC,EAAAC,cAAA,SAAGF,EAAAC,EAAAC,cAAA,sBAAoBF,EAAAC,EAAAC,cAAA,SAAOoC,SAAUhD,KAAKqE,aAActC,KAAK,QAAQ7C,KAAK,OAAO6D,YAAY,kBAChGrC,EAAAC,EAAAC,cAAA,SAAGF,EAAAC,EAAAC,cAAA,uBAAqBF,EAAAC,EAAAC,cAAA,SAAOoC,SAAUhD,KAAK4E,eAAgB7B,YAAW,GAAA1D,OAAKW,KAAKH,MAAMQ,KAAKgD,KAAKK,OAA1B,QAAwC3B,KAAK,SAAS7C,KAAK,YACpIwB,EAAAC,EAAAC,cAAA,SAAGF,EAAAC,EAAAC,cAAA,qBAAmBF,EAAAC,EAAAC,cAAA,SAAOoC,SAAUhD,KAAK6E,aAAc9B,YAAW,GAAA1D,OAAKW,KAAKH,MAAMQ,KAAKgD,KAAKpB,MAAQ,mBAAqBF,KAAK,OAAO7C,KAAK,UAC7IwB,EAAAC,EAAAC,cAAA,SAAGF,EAAAC,EAAAC,cAAA,sBAAoBF,EAAAC,EAAAC,cAAA,SAAOoC,SAAUhD,KAAK8E,cAAe/B,YAAW,GAAA1D,OAAKW,KAAKH,MAAMQ,KAAKgD,KAAK0B,OAAS,iBAAmBhD,KAAK,QAAQ7C,KAAK,SAC/IwB,EAAAC,EAAAC,cAAA,SACEF,EAAAC,EAAAC,cAAA,0BACAF,EAAAC,EAAAC,cAAA,OAAKC,UAAU,MAAKH,EAAAC,EAAAC,cAAA,uBAAsBZ,KAAKH,MAAMQ,KAAKgD,KAAKoB,WAAyD,GAA7CzE,KAAKH,MAAMQ,KAAKgD,KAAKoB,SAASP,QAAQ,GAAWxD,EAAAC,EAAAC,cAAA,SAAO+B,SAAO,EAACK,SAAUhD,KAAKwE,iBAAkBhC,MAAM,IAAItD,KAAK,WAAW6C,KAAK,UAAUqE,GAAG,KAAQ1F,EAAAC,EAAAC,cAAA,SAAOoC,SAAUhD,KAAKwE,iBAAkBhC,MAAM,IAAItD,KAAK,WAAW6C,KAAK,UAAUqE,GAAG,MACpT1F,EAAAC,EAAAC,cAAA,OAAKC,UAAU,MAAKH,EAAAC,EAAAC,cAAA,wBAAuBZ,KAAKH,MAAMQ,KAAKgD,KAAKoB,WAAyD,GAA7CzE,KAAKH,MAAMQ,KAAKgD,KAAKoB,SAASP,QAAQ,GAAWxD,EAAAC,EAAAC,cAAA,SAAO+B,SAAO,EAACK,SAAUhD,KAAKwE,iBAAkBhC,MAAM,IAAItD,KAAK,WAAW6C,KAAK,UAAUqE,GAAG,KAAQ1F,EAAAC,EAAAC,cAAA,SAAOoC,SAAUhD,KAAKwE,iBAAkBhC,MAAM,IAAItD,KAAK,WAAW6C,KAAK,UAAUqE,GAAG,MACrT1F,EAAAC,EAAAC,cAAA,OAAKC,UAAU,MAAKH,EAAAC,EAAAC,cAAA,0BAAyBZ,KAAKH,MAAMQ,KAAKgD,KAAKoB,WAAyD,GAA7CzE,KAAKH,MAAMQ,KAAKgD,KAAKoB,SAASP,QAAQ,GAAWxD,EAAAC,EAAAC,cAAA,SAAO+B,SAAO,EAACK,SAAUhD,KAAKwE,iBAAkBhC,MAAM,IAAItD,KAAK,WAAW6C,KAAK,UAAUqE,GAAG,KAAQ1F,EAAAC,EAAAC,cAAA,SAAOoC,SAAUhD,KAAKwE,iBAAkBhC,MAAM,IAAItD,KAAK,WAAW6C,KAAK,UAAUqE,GAAG,MACvT1F,EAAAC,EAAAC,cAAA,OAAKC,UAAU,MAAKH,EAAAC,EAAAC,cAAA,yBAAwBZ,KAAKH,MAAMQ,KAAKgD,KAAKoB,WAAyD,GAA7CzE,KAAKH,MAAMQ,KAAKgD,KAAKoB,SAASP,QAAQ,GAAWxD,EAAAC,EAAAC,cAAA,SAAO+B,SAAO,EAACK,SAAUhD,KAAKwE,iBAAkBhC,MAAM,IAAKtD,KAAK,WAAW6C,KAAK,UAAUqE,GAAG,KAAQ1F,EAAAC,EAAAC,cAAA,SAAOoC,SAAUhD,KAAKwE,iBAAkBhC,MAAM,IAAKtD,KAAK,WAAW6C,KAAK,UAAUqE,GAAG,MACxT1F,EAAAC,EAAAC,cAAA,OAAKC,UAAU,MAAKH,EAAAC,EAAAC,cAAA,uBAAsBZ,KAAKH,MAAMQ,KAAKgD,KAAKoB,WAAyD,GAA7CzE,KAAKH,MAAMQ,KAAKgD,KAAKoB,SAASP,QAAQ,GAAWxD,EAAAC,EAAAC,cAAA,SAAO+B,SAAO,EAACK,SAAUhD,KAAKwE,iBAAkBhC,MAAM,IAAItD,KAAK,WAAW6C,KAAK,UAAUqE,GAAG,KAAQ1F,EAAAC,EAAAC,cAAA,SAAOoC,SAAUhD,KAAKwE,iBAAkBhC,MAAM,IAAItD,KAAK,WAAW6C,KAAK,UAAUqE,GAAG,MACpT1F,EAAAC,EAAAC,cAAA,OAAKC,UAAU,MAAKH,EAAAC,EAAAC,cAAA,yBAAwBZ,KAAKH,MAAMQ,KAAKgD,KAAKoB,WAAyD,GAA7CzE,KAAKH,MAAMQ,KAAKgD,KAAKoB,SAASP,QAAQ,GAAWxD,EAAAC,EAAAC,cAAA,SAAO+B,SAAO,EAACK,SAAUhD,KAAKwE,iBAAkBhC,MAAM,IAAItD,KAAK,WAAW6C,KAAK,UAAUqE,GAAG,KAAQ1F,EAAAC,EAAAC,cAAA,SAAOoC,SAAUhD,KAAKwE,iBAAkBhC,MAAM,IAAItD,KAAK,WAAW6C,KAAK,UAAUqE,GAAG,MACtT1F,EAAAC,EAAAC,cAAA,OAAKC,UAAU,MAAKH,EAAAC,EAAAC,cAAA,uBAAsBZ,KAAKH,MAAMQ,KAAKgD,KAAKoB,WAAyD,GAA7CzE,KAAKH,MAAMQ,KAAKgD,KAAKoB,SAASP,QAAQ,GAAWxD,EAAAC,EAAAC,cAAA,SAAO+B,SAAO,EAACK,SAAUhD,KAAKwE,iBAAkBhC,MAAM,IAAItD,KAAK,WAAW6C,KAAK,UAAUqE,GAAG,KAAQ1F,EAAAC,EAAAC,cAAA,SAAOoC,SAAUhD,KAAKwE,iBAAkBhC,MAAM,IAAItD,KAAK,WAAW6C,KAAK,UAAUqE,GAAG,OAEtT1F,EAAAC,EAAAC,cAAA,SACEF,EAAAC,EAAAC,cAAA,2BACAF,EAAAC,EAAAC,cAAA,SAAOoC,SAAUhD,KAAKgF,sBAAuBjD,KAAK,YAAY7C,KAAK,SACnEwB,EAAAC,EAAAC,cAAA,SAAOoC,SAAUhD,KAAKkF,oBAAqBnD,KAAK,UAAU7C,KAAK,UAEjEwB,EAAAC,EAAAC,cAAA,SAAO1B,KAAK,SAASsD,MAAM,aAG7B9B,EAAAC,EAAAC,cAAA,UAAQC,UAAU,kBAAkBG,QAAShB,KAAKQ,gBAAlD,wBA1KuBmB,aC7JjC,SAAS0E,EAAmBC,GAC1B,MAAO,CACL5G,kBAAmB,kBAAM4G,EAAS5G,MAClCC,qBAAsB,kBAAM2G,EAAS3G,WAInC4G,cACJ,SAAAA,EAAY1G,GAAO,IAAAC,EAAA,OAAAX,OAAAY,EAAA,EAAAZ,CAAAa,KAAAuG,IACjBzG,EAAAX,OAAAc,EAAA,EAAAd,CAAAa,KAAAb,OAAAe,EAAA,EAAAf,CAAAoH,GAAApG,KAAAH,KAAMH,KAGR2G,OAAS,WACPxE,IACGC,KAAK,mBAAoB,CAAExD,MAAOC,aAAaC,QAAQ,WACvDtB,KAAK,WACJyC,EAAKD,MAAMF,uBACXjB,aAAa+H,WAAW,SACxB9J,OAAOC,SAAS8J,WAEjBzI,MAAM,SAAAmE,GACLvE,QAAQK,MAAMkE,MAbDtC,wEAkBjB,OACEY,EAAAC,EAAAC,cAAA,OAAAzB,OAAAC,OAAA,GAAUY,KAAKH,MAAf,CAAsBmB,QAAShB,KAAKwG,SAASxG,KAAKH,MAAM8G,UAAY,iBApB5ChF,aAyBxBiF,cACJ,SAAAA,EAAY/G,GAAO,IAAAY,EAAA,OAAAtB,OAAAY,EAAA,EAAAZ,CAAAa,KAAA4G,IACjBnG,EAAAtB,OAAAc,EAAA,EAAAd,CAAAa,KAAAb,OAAAe,EAAA,EAAAf,CAAAyH,GAAAzG,KAAAH,KAAMH,KAEDlC,MAAQ,CACXkJ,SAAU,MAJKpG,mFAQC,IAAAoB,EAAA7B,KACZvB,EAAQC,aAAaC,QAAQ,UAAY,GAE1CF,GAAmB,KAAVA,EASZuD,IACGC,KAAK,0BAA2B,CAACxD,UACjCpB,KAAK,WACAwE,EAAKhC,MAAMiH,iBACbjF,EAAKvB,SAAS,CACZuG,SAAUnG,EAAAC,EAAAC,cAACmG,EAAA,EAAD,CAAUvF,GAAIK,EAAKhC,MAAMiH,oBAIvCjF,EAAKhC,MAAMH,sBAEZzB,MAAM,SAAAmE,GACDP,EAAKhC,MAAMmH,iBACbnF,EAAKvB,SAAS,CACZuG,SAAUnG,EAAAC,EAAAC,cAACmG,EAAA,EAAD,CAAUvF,GAAIK,EAAKhC,MAAMmH,oBAIvCnF,EAAKhC,MAAMF,uBAEX9B,QAAQK,MAAM,8BA5BlBL,QAAQK,MAAM,0BAEV8B,KAAKH,MAAMmH,iBACbhH,KAAKM,SAAS,CACZuG,SAAUnG,EAAAC,EAAAC,cAACmG,EAAA,EAAD,CAAUvF,GAAIxB,KAAKH,MAAMmH,sDA8BzC,OACEtG,EAAAC,EAAAC,cAAA,OAAKC,UAAU,QAAQb,KAAKrC,MAAMkJ,iBAhDZlF,aAqDtBsF,EAAOC,YAAQ,KAAMb,EAAda,CAAkCN,GACzCO,EAAYD,YAAQ,KAAMb,EAAda,CAAkCX,UChFpDa,IAAMC,cAAc,SAEpB,IAIMC,EAAa,SAAApF,GAAA,IAAEtD,EAAFsD,EAAEtD,gBAAF,OACjB8B,EAAAC,EAAAC,cAAA,WAEuB,GAAnBhC,EACE8B,EAAAC,EAAAC,cAAA,OAAKC,UAAU,cACbH,EAAAC,EAAAC,cAAA,MAAIC,UAAU,oBAAmBH,EAAAC,EAAAC,cAACW,EAAA,EAAD,CAAMC,GAAG,YAAT,UACjCd,EAAAC,EAAAC,cAAA,MAAIC,UAAU,oBAAmBH,EAAAC,EAAAC,cAACW,EAAA,EAAD,CAAMC,GAAG,YAAT,aAGnCd,EAAAC,EAAAC,cAAA,OAAKC,UAAU,cACbH,EAAAC,EAAAC,cAAA,MAAIC,UAAU,oBAAmBH,EAAAC,EAAAC,cAACW,EAAA,EAAD,CAAMC,GAAG,YAAT,SACjCd,EAAAC,EAAAC,cAAA,MAAIC,UAAU,oBAAmBH,EAAAC,EAAAC,cAACW,EAAA,EAAD,CAAMC,GAAG,SAAT,SACjCd,EAAAC,EAAAC,cAAA,MAAIC,UAAU,oBAAmBH,EAAAC,EAAAC,cAACuG,EAAD,UAOrCI,EAAO,kBACX7G,EAAAC,EAAAC,cAACW,EAAA,EAAD,CAAMV,UAAU,OAAOW,GAAG,YAAWd,EAAAC,EAAAC,cAAA,OAAKwC,IAAI,uDAAuDoE,IAAI,WAa5FC,EAFAP,YAnCS,SAAAvJ,GACtB,MAAO,CAAEiB,gBAAiBjB,EAAMiB,kBAkCnBsI,CARS,SAAAzD,GAAA,IAAE7E,EAAF6E,EAAE7E,gBAAF,OACtB8B,EAAAC,EAAAC,cAAA,UAAQC,UAAU,UAChBH,EAAAC,EAAAC,cAAC8G,EAAD,MACC9I,EAAkB8B,EAAAC,EAAAC,cAAC+G,EAAD,MAAwB,KAC3CjH,EAAAC,EAAAC,cAACgH,EAAD,CAAYhJ,gBAAiBA,eChCjC,IAIMiJ,cACJ,SAAAA,EAAYhI,GAAO,IAAAC,EAAA,OAAAX,OAAAY,EAAA,EAAAZ,CAAAa,KAAA6H,IACjB/H,EAAAX,OAAAc,EAAA,EAAAd,CAAAa,KAAAb,OAAAe,EAAA,EAAAf,CAAA0I,GAAA1H,KAAAH,KAAMH,KAYRiI,aAAe,SAAAxF,GACbxC,EAAKQ,SAALnB,OAAA4I,EAAA,EAAA5I,CAAA,GACGmD,EAAEC,OAAOR,KAAOO,EAAEC,OAAOC,SAfX1C,EAmBnBkI,aAAe,SAAA1F,GACbA,EAAE+C,kBAE0B,IAAxBvF,EAAKwF,eACPtD,IACGC,KAAK,oBAAqB,CACzBsB,MAAOzD,EAAKnC,MAAM4F,MAClB0E,SAAUnI,EAAKnC,MAAMsK,WAEtB5K,KAAK,SAAA6E,GAAqB,IAAZzD,EAAYyD,EAAlBC,KACPzD,aAAawJ,QAAQ,QAASzJ,GAC9BqB,EAAKD,MAAMJ,SAAShB,GACpBqB,EAAKD,MAAMH,sBAEZrC,KAAK,WACJ,IACEyC,EAAKD,MAAMsI,UACX,MAAO/F,GACPvE,QAAQK,MAAMkE,MAGjBnE,MAAM,SAAAmE,GACL1D,aAAa0J,QACbtI,EAAKD,MAAMF,uBACX9B,QAAQK,MAAMkE,KAGlBmD,MAAM,mBA3CRzF,EAAKnC,MAAQ,CACX4F,MAAO,GACP0E,SAAU,IALKnI,8EAUjB,OAAOE,KAAKrC,MAAM4F,MAAMxE,OAAS,GAAKiB,KAAKrC,MAAMsK,SAASlJ,OAAS,mCAyCnE,OACE2B,EAAAC,EAAAC,cAAA,QAAMC,UAAU,aAAauE,SAAUpF,KAAKgI,cAC1CtH,EAAAC,EAAAC,cAAA,SACEC,UAAU,QACV2B,MAAOxC,KAAKrC,MAAM4F,MAClBrE,KAAK,QACL8D,SAAUhD,KAAK8H,aACf/F,KAAK,QACLgB,YAAY,QACZsF,UAAQ,IAEV3H,EAAAC,EAAAC,cAAA,SACEC,UAAU,WACV2B,MAAOxC,KAAKrC,MAAMsK,SAClB/I,KAAK,WACL8D,SAAUhD,KAAK8H,aACf/F,KAAK,WACLgB,YAAY,WACZsF,UAAQ,IAEV3H,EAAAC,EAAAC,cAAA,UACE1B,KAAK,UADP,iBAxEgByC,aAkFT2G,EAFDpB,YApFU,SAAAvJ,GACtB,MAAO,CAAEc,MAAOd,EAAMc,QATxB,SAA4B6H,GAC1B,MAAO,CACL7G,SAAU,SAAAhB,GAAK,OAAI6H,EAAS7G,EAAShB,KACrCiB,kBAAmB,kBAAM4G,EAAS5G,MAClCC,qBAAsB,kBAAM2G,EAAS3G,QAwF3BuH,CAA6CW,GChE5CU,qBA1Bb,SAAAA,EAAY1I,GAAO,IAAAC,EAAA,OAAAX,OAAAY,EAAA,EAAAZ,CAAAa,KAAAuI,IACjBzI,EAAAX,OAAAc,EAAA,EAAAd,CAAAa,KAAAb,OAAAe,EAAA,EAAAf,CAAAoJ,GAAApI,KAAAH,KAAMH,KAOR2I,aAAe,WACb1I,EAAKQ,SAAS,CACZuG,UAAU,KAPZ/G,EAAKnC,MAAQ,CACXkJ,UAAU,GAJK/G,wEAejB,OACEY,EAAAC,EAAAC,cAAA,OAAKC,UAAU,aACbH,EAAAC,EAAAC,cAAA,MAAIC,UAAU,SAAd,SACCb,KAAKrC,MAAMkJ,SAAWnG,EAAAC,EAAAC,cAACmG,EAAA,EAAD,CAAUvF,GAAG,aAAgB,KACpDd,EAAAC,EAAAC,cAACqG,EAAD,CAAMH,gBAAgB,aACtBpG,EAAAC,EAAAC,cAAC6H,EAAD,CAAWN,QAASnI,KAAKwI,uBArBZ7G,cCOrB,IAIM+G,cACJ,SAAAA,EAAY7I,GAAO,IAAAC,EAAA,OAAAX,OAAAY,EAAA,EAAAZ,CAAAa,KAAA0I,IACjB5I,EAAAX,OAAAc,EAAA,EAAAd,CAAAa,KAAAb,OAAAe,EAAA,EAAAf,CAAAuJ,GAAAvI,KAAAH,KAAMH,KAeRiI,aAAe,SAAAxF,GACbxC,EAAKQ,SAALnB,OAAA4I,EAAA,EAAA5I,CAAA,GACGmD,EAAEC,OAAOR,KAAOO,EAAEC,OAAOC,SAlBX1C,EAsBnBkI,aAAe,SAAA1F,GACbA,EAAE+C,kBAE0B,IAAxBvF,EAAKwF,eACPtD,IACGC,KAAK,oBAAqB,CACzB0G,SAAU7I,EAAKnC,MAAMgL,SACrBpF,MAAOzD,EAAKnC,MAAM4F,MAClB0E,SAAUnI,EAAKnC,MAAMsK,WAEtB5K,KAAK,SAAA6E,GAAqB,IAAZzD,EAAYyD,EAAlBC,KACPzD,aAAawJ,QAAQ,QAASzJ,GAC9BqB,EAAKD,MAAMJ,SAAShB,GACpBqB,EAAKD,MAAMH,sBAEZrC,KAAK,WACJ,IACEyC,EAAKD,MAAMsI,UACX,MAAO/F,GACPvE,QAAQK,MAAMkE,MAGjBnE,MAAM,SAAAmE,GACL1D,aAAa0J,QACbtI,EAAKD,MAAMF,uBACX9B,QAAQK,MAAMkE,KAGlBmD,MAAM,mBA/CRzF,EAAKnC,MAAQ,CACXgL,SAAU,GACVpF,MAAO,GACPqF,QAAS,GACTX,SAAU,GACVY,WAAY,IARG/I,8EAajB,OAAOE,KAAKrC,MAAMgL,SAAS5J,OAAS,GAA0B,KAArBiB,KAAKrC,MAAM4F,OAAwC,KAAxBvD,KAAKrC,MAAMsK,UAAmBjI,KAAKrC,MAAM4F,QAAUvD,KAAKrC,MAAMiL,SAAW5I,KAAKrC,MAAMsK,WAAajI,KAAKrC,MAAMkL,4CA0ChL,OACEnI,EAAAC,EAAAC,cAAA,QAAMC,UAAU,oBAAoBuE,SAAUpF,KAAKgI,cACjDtH,EAAAC,EAAAC,cAAA,SACEmB,KAAK,WACL7C,KAAK,OACL6D,YAAY,YACZC,SAAUhD,KAAK8H,aACfO,SAAS,aAEX3H,EAAAC,EAAAC,cAAA,SACEmB,KAAK,QACL7C,KAAK,QACL6D,YAAY,QACZC,SAAUhD,KAAK8H,aACfO,SAAS,aAEX3H,EAAAC,EAAAC,cAAA,SACEmB,KAAK,UACL7C,KAAK,QACL6D,YAAY,eACZC,SAAUhD,KAAK8H,aACfO,SAAS,aAEX3H,EAAAC,EAAAC,cAAA,SACEmB,KAAK,WACL7C,KAAK,WACL6D,YAAY,WACZC,SAAUhD,KAAK8H,aACfO,SAAS,aAEX3H,EAAAC,EAAAC,cAAA,SACEmB,KAAK,aACL7C,KAAK,WACL6D,YAAY,kBACZC,SAAUhD,KAAK8H,aACfO,SAAS,aAEX3H,EAAAC,EAAAC,cAAA,UAAQ1B,KAAK,UAAb,mBA7FuByC,aAqGhBmH,EAFM5B,YAvGG,SAAAvJ,GACtB,MAAO,CAAEc,MAAOd,EAAMc,QATxB,SAA4B6H,GAC1B,MAAO,CACL7G,SAAU,SAAAhB,GAAK,OAAI6H,EAAS7G,EAAShB,KACrCiB,kBAAmB,kBAAM4G,EAAS5G,MAClCC,qBAAsB,kBAAM2G,EAAS3G,QA2GpBuH,CAA6CwB,GCnFnDK,cA1Bb,SAAAA,EAAYlJ,GAAO,IAAAC,EAAA,OAAAX,OAAAY,EAAA,EAAAZ,CAAAa,KAAA+I,IACjBjJ,EAAAX,OAAAc,EAAA,EAAAd,CAAAa,KAAAb,OAAAe,EAAA,EAAAf,CAAA4J,GAAA5I,KAAAH,KAAMH,KAORmJ,oBAAsB,WACpBlJ,EAAKQ,SAAS,CACZuG,UAAU,KAPZ/G,EAAKnC,MAAQ,CACXkJ,UAAU,GAJK/G,wEAejB,OACEY,EAAAC,EAAAC,cAAA,OAAKC,UAAU,aACbH,EAAAC,EAAAC,cAAA,MAAIC,UAAU,SAAd,gBACCb,KAAKrC,MAAMkJ,SAAWnG,EAAAC,EAAAC,cAACmG,EAAA,EAAD,CAAUvF,GAAG,aAAgB,KACpDd,EAAAC,EAAAC,cAACqG,EAAD,CAAMH,gBAAgB,aACtBpG,EAAAC,EAAAC,cAACqI,EAAD,CAAkBd,QAASnI,KAAKgJ,8BArBnBrH,aC0CNuH,cA1Cb,SAAAA,EAAYrJ,GAAO,IAAAC,EAAA,OAAAX,OAAAY,EAAA,EAAAZ,CAAAa,KAAAkJ,IACjBpJ,EAAAX,OAAAc,EAAA,EAAAd,CAAAa,KAAAb,OAAAe,EAAA,EAAAf,CAAA+J,GAAA/I,KAAAH,KAAMH,KA0BRsJ,iBAAmB,SAAA9I,GACjBP,EAAKQ,SAAS,CAACD,UAzBfP,EAAKnC,MAAQ,CACX0C,KAAM,CACJgD,KAAM,CACJO,OAAQ,CACNC,WAAY,GACZI,UAAW,OARFnE,mFAeC,IAAAW,EAAAT,KAClBgC,IACGC,KAAK,yBAA0B,CAACxD,MAAOC,aAAaC,QAAQ,WAC5DtB,KAAK,SAAA6E,GAAkB,IAAV7B,EAAU6B,EAAhBC,KACN1B,EAAKH,SAAS,CAACD,SACfxC,QAAQC,QAETG,MAAM,SAAAmE,GACLvE,QAAQK,MAAMkE,sCASlB,OACE1B,EAAAC,EAAAC,cAAA,WACEF,EAAAC,EAAAC,cAACqG,EAAD,CAAMD,gBAAgB,aACtBtG,EAAAC,EAAAC,cAACwI,EAAD,CAAoBnD,WAAYjG,KAAKmJ,iBAAkB9I,KAAML,KAAKrC,MAAM0C,OACxEK,EAAAC,EAAAC,cAACU,EAAD,CAAUjB,KAAML,KAAKrC,MAAM0C,eArCbsB,oBCUtB,IAAM0H,EAAW,SAAAnH,GAAA,IAAEoH,EAAFpH,EAAEoH,KAAF,OACf5I,EAAAC,EAAAC,cAAA,OAAKC,UAAU,aACbH,EAAAC,EAAAC,cAAA,OAAKC,UAAU,qBACbH,EAAAC,EAAAC,cAAA,OAAKwC,IAAI,qGAEX1C,EAAAC,EAAAC,cAAA,OAAKC,UAAU,mBACbH,EAAAC,EAAAC,cAAA,OAAKC,UAAU,oBAAoByI,EAAKvH,MACxCrB,EAAAC,EAAAC,cAAA,OAAKC,UAAU,0BAAf,UAAgDyI,EAAKxI,MAAM/B,OAAS,GACpE2B,EAAAC,EAAAC,cAAA,OAAKC,UAAU,6BAAf,aAAsDyI,EAAKC,SAASxK,QACpE2B,EAAAC,EAAAC,cAAA,OAAKC,UAAU,4BAhBrB,SAAiB2I,GACf,IAAMC,EAAOD,EAAU9H,WAAWgI,MAAM,EAAE,IACtCC,EAAOH,EAAU9H,WAAWgI,MAAM,GAAG,IAEzC,SAAArK,OAAUoK,EAAV,KAAApK,OAAkBsK,GAY6BC,CAAQN,EAAKO,eAKxDC,GAAW,SAAAjK,GACf,OAAKkK,MAAMC,QAAQnK,EAAMoK,OAKvBvJ,EAAAC,EAAAC,cAAA,OAAKC,UAAU,SACbH,EAAAC,EAAAC,cAAA,MAAIC,UAAU,aACZH,EAAAC,EAAAC,cAAA,0BAEEf,EAAMoK,MACHvF,OAAO,SAAA4E,GAAI,MAAkB,iBAAdA,EAAKvH,OACpBhB,IAAI,SAAAuI,GAAI,OAAI5I,EAAAC,EAAAC,cAAA,MAAIsJ,IAAKZ,EAAK7H,IAAKZ,UAAU,mBAAkBH,EAAAC,EAAAC,cAACW,EAAA,EAAD,CAAMC,GAAI,sBAAwB8H,EAAKxI,MAAM,GAAGY,YAAYhB,EAAAC,EAAAC,cAACuJ,EAAD,CAAUb,KAAMA,SAG9I5I,EAAAC,EAAAC,cAAA,MAAIC,UAAU,aACZH,EAAAC,EAAAC,cAAA,0BAEEf,EAAMoK,MACHvF,OAAO,SAAA4E,GAAI,MAAkB,iBAAdA,EAAKvH,OACpBhB,IAAI,SAAAuI,GAAI,OAAI5I,EAAAC,EAAAC,cAAA,MAAIsJ,IAAKZ,EAAK7H,IAAKZ,UAAU,mBAAkBH,EAAAC,EAAAC,cAACW,EAAA,EAAD,CAAMC,GAAI,oBAAsB8H,EAAK7H,IAAIC,YAAYhB,EAAAC,EAAAC,cAACuJ,EAAD,CAAUb,KAAMA,UAlBlI,MAyBLc,eACJ,SAAAA,EAAYvK,GAAO,IAAAC,EAAA,OAAAX,OAAAY,EAAA,EAAAZ,CAAAa,KAAAoK,IACjBtK,EAAAX,OAAAc,EAAA,EAAAd,CAAAa,KAAAb,OAAAe,EAAA,EAAAf,CAAAiL,GAAAjK,KAAAH,KAAMH,KAWRiI,aAAe,SAAAxF,GACbxC,EAAKQ,SAALnB,OAAA4I,EAAA,EAAA5I,CAAA,GACGmD,EAAEC,OAAOR,KAAOO,EAAEC,OAAOC,SAdX1C,EAkBnBkI,aAAe,SAAA1F,GACbA,EAAE+C,kBAE0B,IAAxBvF,EAAKwF,eACPtD,IACGC,KAAK,mBAAoB,CAAExD,MAAOC,aAAaC,QAAQ,SAAU0L,SAAS,EAAOtI,KAAMjC,EAAKnC,MAAM2M,WAClGjN,KAAK,SAAAoG,GAAoB,IAAX6F,EAAW7F,EAAjBtB,KACHrC,EAAKD,MAAM0K,aACbzK,EAAKD,MAAM0K,YAAYjB,KAG1BrL,MAAM,SAAAmE,GACLvE,QAAQC,IAAIsE,GACZmD,MAAM,oCAGVA,MAAM,mBA/BRzF,EAAKnC,MAAQ,CACX2M,SAAU,IAJKxK,8EASjB,MAA+B,KAAxBE,KAAKrC,MAAM2M,0CA8BlB,OACE5J,EAAAC,EAAAC,cAAA,QAAMwE,SAAUpF,KAAKgI,cACnBtH,EAAAC,EAAAC,cAAA,SACE1B,KAAK,OACL8D,SAAUhD,KAAK8H,aACf/F,KAAK,WACLgB,YAAY,YACZsF,SAAS,aAEX3H,EAAAC,EAAAC,cAAA,UAAQ1B,KAAK,UAAb,kBAjD0ByC,aAuD5B6I,eACJ,SAAAA,EAAY3K,GAAO,IAAAY,EAAA,OAAAtB,OAAAY,EAAA,EAAAZ,CAAAa,KAAAwK,IACjB/J,EAAAtB,OAAAc,EAAA,EAAAd,CAAAa,KAAAb,OAAAe,EAAA,EAAAf,CAAAqL,GAAArK,KAAAH,KAAMH,KAQR4K,wBAA0B,WACxBhK,EAAKH,SAAS,CACZoK,0BAA0B,KAXXjK,EAenBkK,wBAA0B,WACxBlK,EAAKH,SAAS,CACZoK,0BAA0B,EAC1BE,mBAAmB,KAlBJnK,EAsBnBqB,UAAY,SAAAC,GACVtB,EAAKH,SAAS,CAACsK,mBAAmB,IAElC5I,IACGC,KAAK,aAAc,CAAEF,OAAMtD,MAAOC,aAAaC,QAAQ,WACvDtB,KAAK,SAAA0I,GAAqB,IAAZjF,EAAYiF,EAAlB5D,KACP1B,EAAKH,SAAS,CAAEQ,QAAO8J,mBAAmB,MAE3C3M,MAAM,SAAAmE,GACLvE,QAAQC,IAAIsE,GACZ3B,EAAKH,SAAS,CAACsK,mBAAmB,OAhCrBnK,EAoCnB4B,kBAAoB,SAAAC,GACK,KAAnBA,EAAEC,OAAOC,MACX/B,EAAKH,SAAS,CACZQ,MAAO,KAGTL,EAAKqB,UAAUQ,EAAEC,OAAOC,QA1CT/B,EA8CnBoK,QAAU,SAAAC,GACR9I,IACGC,KAAK,qBAAsB,CAACxD,MAAOC,aAAaC,QAAQ,SAAUmM,SAAQC,OAAQtK,EAAKZ,MAAMkL,SAC7F1N,KAAK,SAAA2N,GACJvK,EAAKH,SAAS,CACZQ,MAAO,OAGV7C,MAAM,SAAAmE,GACLvE,QAAQK,MAAMkE,MApDlB3B,EAAK9C,MAAQ,CACX+M,0BAA0B,EAC1B5J,MAAO,IALQL,wEA2DV,IAAAoB,EAAA7B,KACP,OACEU,EAAAC,EAAAC,cAAA,OAAKC,UAAU,gBACbH,EAAAC,EAAAC,cAAA,UAAQI,QAAShB,KAAKyK,yBAAtB,YACA/J,EAAAC,EAAAC,cAACM,EAAAP,EAAD,CACEQ,OAAQnB,KAAKrC,MAAM+M,yBACnBtJ,eAAgBpB,KAAK2K,wBACrBtJ,aAAa,aAEbX,EAAAC,EAAAC,cAAA,gCACAF,EAAAC,EAAAC,cAAA,SAAOmC,YAAY,oBAAoBlC,UAAU,0BAA0BmC,SAAUhD,KAAKqC,oBAC1F3B,EAAAC,EAAAC,cAAA,MAAIC,UAAU,0BAEVb,KAAKrC,MAAMmD,MAAMC,IAAI,SAAAV,GAAI,OACvBK,EAAAC,EAAAC,cAAA,MAAIsJ,IAAK7J,EAAKoB,KACZf,EAAAC,EAAAC,cAACK,EAAD,CAAaZ,KAAMA,KAE+B,IAAhDA,EAAKgD,KAAK4G,MAAM/F,QAAQrC,EAAKhC,MAAMkL,QAAiBrK,EAAAC,EAAAC,cAAA,UAAQC,UAAU,wBAAwBG,QAAS,WAAOa,EAAKgJ,QAAQxK,EAAKoB,OAA5E,YAAuG,SAMrKf,EAAAC,EAAAC,cAAA,UAAQC,UAAU,kBAAkBG,QAAShB,KAAK2K,yBAAlD,wBAnFqBhJ,aCzG/ByF,IAAMC,cAAc,aA6DL4D,eA1Db,SAAAA,EAAYpL,GAAO,IAAAC,EAAA,OAAAX,OAAAY,EAAA,EAAAZ,CAAAa,KAAAiL,IACjBnL,EAAAX,OAAAc,EAAA,EAAAd,CAAAa,KAAAb,OAAAe,EAAA,EAAAf,CAAA8L,GAAA9K,KAAAH,KAAMH,KAmBRqL,mBAAqB,WACnBpL,EAAKQ,SAAS,CACZ6K,uBAAuB,KAtBRrL,EA0BnBsL,oBAAsB,WACpBtL,EAAKQ,SAAS,CACZ6K,uBAAuB,KA5BRrL,EAgCnBuL,gBAAkB,SAAA/B,GAChBxJ,EAAKQ,SAAS,CACZ2J,MAAOnK,EAAKnC,MAAMsM,MAAM5K,OAAOiK,KAEjCxJ,EAAKsL,uBAjCLtL,EAAKnC,MAAQ,CACXwN,uBAAuB,EACvBlB,MAAO,IALQnK,mFASC,IAAAW,EAAAT,KAClBgC,IACGC,KAAK,uBAAwB,CAAExD,MAAOC,aAAaC,QAAQ,WAC3DtB,KAAK,SAAA6E,GAAqB,IAAZ+H,EAAY/H,EAAlBC,KACP1B,EAAKH,SAAS,CAAE2J,YAEjBhM,MAAM,SAAAmE,GACLvE,QAAQK,MAAMkE,sCAwBlB,OACE1B,EAAAC,EAAAC,cAAA,WACEF,EAAAC,EAAAC,cAACqG,EAAD,CAAMD,gBAAgB,aACtBtG,EAAAC,EAAAC,cAACM,EAAAP,EAAD,CACEQ,OAAQnB,KAAKrC,MAAMwN,sBACnB/J,eAAgBpB,KAAKoL,oBACrB/J,aAAa,eAEbX,EAAAC,EAAAC,cAAC0K,GAAD,CAAYf,YAAavK,KAAKqL,kBAC9B3K,EAAAC,EAAAC,cAAA,UAAQC,UAAU,kBAAkBG,QAAShB,KAAKoL,qBAAlD,gBAEF1K,EAAAC,EAAAC,cAAA,UAAQC,UAAU,kBAAkBG,QAAShB,KAAKkL,oBAAlD,eACAxK,EAAAC,EAAAC,cAAC2K,GAAD,CAAUtB,MAAOjK,KAAKrC,MAAMsM,gBArDjBtI,iCC2KJ6J,uBA3Kb,SAAAA,EAAY3L,GAAO,IAAAC,EAAA,OAAAX,OAAAY,EAAA,EAAAZ,CAAAa,KAAAwL,IACjB1L,EAAAX,OAAAc,EAAA,EAAAd,CAAAa,KAAAb,OAAAe,EAAA,EAAAf,CAAAqM,GAAArL,KAAAH,KAAMH,KAmER4L,wBAA0B,SAAAC,GACxB1J,IACGC,KAAK,yBAA0B,CAACxD,MAAOC,aAAaC,QAAQ,SAAU+M,mBACtErO,KAAK,SAAA6E,GAAkB,IAAVoH,EAAUpH,EAAhBC,KAEN,OADArC,EAAKQ,SAAS,CAAEyK,OAAQzB,EAAK7H,IAAKiK,mBAC3BpC,EAAK7H,MAEbpE,KAAK,SAAA0N,GACJ/I,IACGC,KAAK,qBAAuB,CAACxD,MAAOC,aAAaC,QAAQ,SAAUoM,WACnE1N,KAAK,SAAAoG,GAAsB,IAAd8F,EAAc9F,EAApBtB,KACNrC,EAAKQ,SAAS,CAAEiJ,iBAGrBtL,MAAM,SAAAmE,GACLvE,QAAQK,MAAMkE,MAnFDtC,EAuFnB6L,sBAAwB,SAAAZ,GACtB/I,IACGC,KAAK,uBAAwB,CAACxD,MAAOC,aAAaC,QAAQ,SAAUoM,WACpE1N,KAAK,SAAA0I,GAAkB,IAAVuD,EAAUvD,EAAhB5D,KAEN,OADArC,EAAKQ,SAAS,CAAEyK,OAAQzB,EAAK7H,MACtB6H,EAAK7H,MAEbpE,KAAK,SAAA0N,GACJ/I,IACGC,KAAK,qBAAuB,CAACxD,MAAOC,aAAaC,QAAQ,SAAUoM,WACnE1N,KAAK,SAAAuO,GAAsB,IAAdrC,EAAcqC,EAApBzJ,KACNrC,EAAKQ,SAAS,CAAEiJ,iBAGrBtL,MAAM,SAAAmE,GACLvE,QAAQK,MAAMkE,MAtGDtC,EA0GnB+L,YAAc,SAAAvJ,GACZA,EAAE+C,iBAEFrD,IACGC,KAAK,oBAAqB,CACzBxD,MAAOC,aAAaC,QAAQ,SAC5BmN,QAAShM,EAAKnC,MAAMoO,eACpBhB,OAAQjL,EAAKnC,MAAMoN,OACnBW,eAAgB5L,EAAKnC,MAAM+N,iBAE5BrO,KAAK,SAAA2O,GAAqB,IAAbF,EAAaE,EAAnB7J,KACN,IACErC,EAAKnC,MAAMsO,OAAOC,KAAK,eAAgB,CAACC,KAAMrM,EAAKD,MAAM/C,MAAMsP,OAAOrB,OAAQe,YAC9E,MAAOxJ,IAFT,QAGExC,EAAKuM,UAAUC,QAAQ9J,MAAQ,GAC/B1C,EAAKQ,SAAS,CACZiJ,SAAUzJ,EAAKnC,MAAM4L,SAASlK,OAAOyM,GACrCC,eAAgB,QAIrB9N,MAAM,SAAAmE,GACLvE,QAAQK,MAAMkE,MAhIDtC,EAoInByM,oBAAsB,SAAAjK,GACpBxC,EAAKQ,SAAS,CACZyL,eAAgBzJ,EAAEC,OAAOC,SAnI3B1C,EAAKuM,UAAYG,IAAMC,YAEvB3M,EAAKnC,MAAQ,CACX4L,SAAU,GACVwC,eAAgB,GAChBhB,OAAQ,KACRW,eAAgB,KAChBO,OAAQ,MAVOnM,mFAcC,IAAAW,EAAAT,KAAA0M,EACU1M,KAAKH,MAAM/C,MAAMsP,OAAtCrB,EADW2B,EACX3B,OAAQ4B,EADGD,EACHC,UAsBf,OApBA3K,IACG4K,IAAI,iBACJvP,KAAK,SAAA2N,GACJ,IAAMiB,EAASY,KAA+B,kBAAhB7B,EAAQ7I,KAA2B,iBAAmB6I,EAAQ7I,MAC5F1B,EAAKH,SAAS,CACZ2L,OAAQA,MAGX5O,KAAK,WACJoD,EAAK9C,MAAMsO,OAAOC,KAAK,eAAgB,CAACnB,WACxCtK,EAAK9C,MAAMsO,OAAOa,GAAG,UAAW,SAAAC,GAAe,IAAbjB,EAAaiB,EAAbjB,QAChCrL,EAAKH,SAAS,CACZiJ,SAAU9I,EAAK9C,MAAM4L,SAASlK,OAAOyM,SAI1C7N,MAAM,SAAAmE,GACLvE,QAAQK,MAAMkE,KAGVuK,GACN,IAAK,eACH3M,KAAKyL,wBAAwBV,GAC7B,MACF,IAAK,aACH/K,KAAK2L,sBAAsBZ,GAC3B,MACF,QACElN,QAAQC,IAAI,sEAICkP,EAAWC,GAC1B,GAAID,EAAUlQ,MAAMsP,QAAUpM,KAAKH,MAAM/C,MAAMsP,OAc7C,OAAO,EAd8C,IAAAc,EACvBlN,KAAKH,MAAM/C,MAAMsP,OAAtCrB,EAD4CmC,EAC5CnC,OAEP,OAHmDmC,EACpCP,WAGb,IAAK,eACH3M,KAAKyL,wBAAwBV,GAC7B,MACF,IAAK,aACH/K,KAAK2L,sBAAsBZ,GAC3B,MACF,QACElN,QAAQC,IAAI,4DA8EtB,OACE4C,EAAAC,EAAAC,cAAA,OAAKC,UAAU,sBAE2B,eAAtCb,KAAKH,MAAM/C,MAAMsP,OAAOO,UAA6BjM,EAAAC,EAAAC,cAACuM,GAAD,CAAkBpC,OAAQ/K,KAAKrC,MAAMoN,SAAY,KAExGrK,EAAAC,EAAAC,cAAA,MAAIC,UAAU,iBAEVb,KAAKrC,MAAM4L,SAASxI,IAAI,SAAA+K,GAAO,OAC7BpL,EAAAC,EAAAC,cAAA,MAAIsJ,IAAK4B,EAAQrK,KACff,EAAAC,EAAAC,cAAA,OAAKC,UAAU,aACbH,EAAAC,EAAAC,cAAA,OAAKC,UAAU,sBACbH,EAAAC,EAAAC,cAAA,OAAKwC,IAAK0I,EAAQsB,OAAO/J,KAAKC,OAAS,8GAEzC5C,EAAAC,EAAAC,cAAA,OAAKC,UAAU,mBACbH,EAAAC,EAAAC,cAAA,QAAMC,UAAU,mBAAmBiL,EAAQsB,OAAO/J,KAAKtB,MACvDrB,EAAAC,EAAAC,cAAA,QAAMC,UAAU,oBAAoBiL,EAAQsB,OAAO7J,SAGvD7C,EAAAC,EAAAC,cAAA,KAAGC,UAAU,WAAWiL,EAAQuB,UAKxC3M,EAAAC,EAAAC,cAAA,QAAMC,UAAU,eAAeuE,SAAUpF,KAAK6L,aAC5CnL,EAAAC,EAAAC,cAAA,SAAO0M,IAAKtN,KAAKqM,UAAWnN,KAAK,OAAOmJ,SAAS,WAAWrF,SAAUhD,KAAKuM,oBAAqBxJ,YAAY,qBAC5GrC,EAAAC,EAAAC,cAAA,UAAQ1B,KAAK,UAAb,iBArKYyC,qBCiBtBhF,OAAO4C,MAAQA,EACf5C,OAAO4Q,WZpBA,SAAoBjO,GACzB,MAAO,CAAEJ,KAAMf,EAAamB,YYoB9B3C,OAAO8C,SAAWA,EAElB+N,IAASC,OACP/M,EAAAC,EAAAC,cAAC8M,EAAA,EAAD,CAAUnO,MAAOA,GACfmB,EAAAC,EAAAC,cAACW,EAAA,EAAD,KACEb,EAAAC,EAAAC,cAACqG,EAAD,CAAMD,gBAAgB,aACtBtG,EAAAC,EAAAC,cAAC+M,EAAD,MAEAjN,EAAAC,EAAAC,cAACmG,EAAA,EAAD,KACErG,EAAAC,EAAAC,cAACmG,EAAA,EAAD,CAAO6G,KAAK,WAAWC,UAAWC,IAClCpN,EAAAC,EAAAC,cAACmG,EAAA,EAAD,CAAO6G,KAAK,WAAWC,UAAWE,IAClCrN,EAAAC,EAAAC,cAACmG,EAAA,EAAD,CAAO6G,KAAK,WAAWC,UAAWG,IAClCtN,EAAAC,EAAAC,cAACmG,EAAA,EAAD,CAAOkH,OAAK,EAACL,KAAK,QAAQC,UAAWK,KACrCxN,EAAAC,EAAAC,cAACmG,EAAA,EAAD,CAAO6G,KAAK,2BAA2BC,UAAWM,QAIxDC,SAASC,eAAe,ShBvBnB,SAAkBpR,GACvB,GAA6C,kBAAmBC,UAAW,CAGzE,GADkB,IAAIoR,IAAIC,GAAwB5R,OAAOC,SAAS4R,MACpDC,SAAW9R,OAAOC,SAAS6R,OAIvC,OAGF9R,OAAO+R,iBAAiB,OAAQ,WAC9B,IAAM1R,EAAK,GAAAqC,OAAMkP,GAAN,sBAEP9R,GAgEV,SAAiCO,EAAOC,GAEtC0R,MAAM3R,GACHK,KAAK,SAAAuR,GAEJ,IAAMC,EAAcD,EAAS/I,QAAQ+G,IAAI,gBAEnB,MAApBgC,EAAShL,QACO,MAAfiL,IAA8D,IAAvCA,EAAY3K,QAAQ,cAG5ChH,UAAUC,cAAc2R,MAAMzR,KAAK,SAAAC,GACjCA,EAAayR,aAAa1R,KAAK,WAC7BV,OAAOC,SAAS8J,aAKpB3J,EAAgBC,EAAOC,KAG1BgB,MAAM,WACLJ,QAAQC,IACN,mEArFAkR,CAAwBhS,EAAOC,GAI/BC,UAAUC,cAAc2R,MAAMzR,KAAK,WACjCQ,QAAQC,IACN,gHAMJf,EAAgBC,EAAOC,MgBG/BE","file":"static/js/main.be3d85b5.chunk.js","sourcesContent":["// This optional code is used to register a service worker.\r\n// register() is not called by default.\r\n\r\n// This lets the app load faster on subsequent visits in production, and gives\r\n// it offline capabilities. However, it also means that developers (and users)\r\n// will only see deployed updates on subsequent visits to a page, after all the\r\n// existing tabs open on the page have been closed, since previously cached\r\n// resources are updated in the background.\r\n\r\n// To learn more about the benefits of this model and instructions on how to\r\n// opt-in, read https://bit.ly/CRA-PWA\r\n\r\nconst isLocalhost = Boolean(\r\n  window.location.hostname === 'localhost' ||\r\n    // [::1] is the IPv6 localhost address.\r\n    window.location.hostname === '[::1]' ||\r\n    // 127.0.0.1/8 is considered localhost for IPv4.\r\n    window.location.hostname.match(\r\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\r\n    )\r\n);\r\n\r\nexport function register(config) {\r\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\r\n    // The URL constructor is available in all browsers that support SW.\r\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\r\n    if (publicUrl.origin !== window.location.origin) {\r\n      // Our service worker won't work if PUBLIC_URL is on a different origin\r\n      // from what our page is served on. This might happen if a CDN is used to\r\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\r\n      return;\r\n    }\r\n\r\n    window.addEventListener('load', () => {\r\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\r\n\r\n      if (isLocalhost) {\r\n        // This is running on localhost. Let's check if a service worker still exists or not.\r\n        checkValidServiceWorker(swUrl, config);\r\n\r\n        // Add some additional logging to localhost, pointing developers to the\r\n        // service worker/PWA documentation.\r\n        navigator.serviceWorker.ready.then(() => {\r\n          console.log(\r\n            'This web app is being served cache-first by a service ' +\r\n              'worker. To learn more, visit https://bit.ly/CRA-PWA'\r\n          );\r\n        });\r\n      } else {\r\n        // Is not localhost. Just register service worker\r\n        registerValidSW(swUrl, config);\r\n      }\r\n    });\r\n  }\r\n}\r\n\r\nfunction registerValidSW(swUrl, config) {\r\n  navigator.serviceWorker\r\n    .register(swUrl)\r\n    .then(registration => {\r\n      registration.onupdatefound = () => {\r\n        const installingWorker = registration.installing;\r\n        if (installingWorker == null) {\r\n          return;\r\n        }\r\n        installingWorker.onstatechange = () => {\r\n          if (installingWorker.state === 'installed') {\r\n            if (navigator.serviceWorker.controller) {\r\n              // At this point, the updated precached content has been fetched,\r\n              // but the previous service worker will still serve the older\r\n              // content until all client tabs are closed.\r\n              console.log(\r\n                'New content is available and will be used when all ' +\r\n                  'tabs for this page are closed. See https://bit.ly/CRA-PWA.'\r\n              );\r\n\r\n              // Execute callback\r\n              if (config && config.onUpdate) {\r\n                config.onUpdate(registration);\r\n              }\r\n            } else {\r\n              // At this point, everything has been precached.\r\n              // It's the perfect time to display a\r\n              // \"Content is cached for offline use.\" message.\r\n              console.log('Content is cached for offline use.');\r\n\r\n              // Execute callback\r\n              if (config && config.onSuccess) {\r\n                config.onSuccess(registration);\r\n              }\r\n            }\r\n          }\r\n        };\r\n      };\r\n    })\r\n    .catch(error => {\r\n      console.error('Error during service worker registration:', error);\r\n    });\r\n}\r\n\r\nfunction checkValidServiceWorker(swUrl, config) {\r\n  // Check if the service worker can be found. If it can't reload the page.\r\n  fetch(swUrl)\r\n    .then(response => {\r\n      // Ensure service worker exists, and that we really are getting a JS file.\r\n      const contentType = response.headers.get('content-type');\r\n      if (\r\n        response.status === 404 ||\r\n        (contentType != null && contentType.indexOf('javascript') === -1)\r\n      ) {\r\n        // No service worker found. Probably a different app. Reload the page.\r\n        navigator.serviceWorker.ready.then(registration => {\r\n          registration.unregister().then(() => {\r\n            window.location.reload();\r\n          });\r\n        });\r\n      } else {\r\n        // Service worker found. Proceed as normal.\r\n        registerValidSW(swUrl, config);\r\n      }\r\n    })\r\n    .catch(() => {\r\n      console.log(\r\n        'No internet connection found. App is running in offline mode.'\r\n      );\r\n    });\r\n}\r\n\r\nexport function unregister() {\r\n  if ('serviceWorker' in navigator) {\r\n    navigator.serviceWorker.ready.then(registration => {\r\n      registration.unregister();\r\n    });\r\n  }\r\n}\r\n","export const ADD_ARTICLE = \"ADD_ARTICLE\";\r\nexport const ADD_TOKEN = \"ADD_TOKEN\";\r\nexport const ADD_AUTHENTICATION = \"ADD_AUTHENTICATION\";\r\nexport const REMOVE_AUTHENTICATION = \"REMOVE_AUTHENTICATION\";\r\n","import {\r\n  ADD_ARTICLE,\r\n  ADD_TOKEN,\r\n  ADD_AUTHENTICATION,\r\n  REMOVE_AUTHENTICATION\r\n} from \"../constants/action-types\";\r\n\r\nconst initialState = {\r\n  articles: [],\r\n  token: localStorage.getItem('token') || '',\r\n  isAuthenticated: false\r\n};\r\n\r\nfunction rootReducer(state = initialState, action) {\r\n  if (action.type === ADD_ARTICLE) {\r\n    return Object.assign({}, state, {\r\n      articles: state.articles.concat(action.payload)\r\n    });\r\n  }\r\n\r\n  if (action.type === ADD_TOKEN) {\r\n    return Object.assign({}, state, {\r\n      token: action.payload\r\n    });\r\n  }\r\n\r\n  if (action.type === ADD_AUTHENTICATION) {\r\n    console.log('add auth')\r\n    return Object.assign({}, state, {\r\n      isAuthenticated: true\r\n    });\r\n  }\r\n\r\n  if (action.type === REMOVE_AUTHENTICATION) {\r\n    console.log('remove auth')\r\n    return Object.assign({}, state, {\r\n      isAuthenticated: false\r\n    });\r\n  }\r\n\r\n  return state;\r\n}\r\n\r\nexport default rootReducer;\r\n","import { createStore } from \"redux\";\r\nimport rootReducer from \"../reducers/index\";\r\n\r\nconst store = createStore(rootReducer);\r\n\r\nexport default store;\r\n","import {\r\n  ADD_ARTICLE,\r\n  ADD_TOKEN,\r\n  ADD_AUTHENTICATION,\r\n  REMOVE_AUTHENTICATION\r\n} from \"../constants/action-types\";\r\n\r\nexport function addArticle(payload) {\r\n  return { type: ADD_ARTICLE, payload };\r\n}\r\n\r\nexport function addToken(payload) {\r\n  return { type: ADD_TOKEN, payload };\r\n}\r\n\r\nexport function addAuthentication() {\r\n  return { type: ADD_AUTHENTICATION };\r\n}\r\n\r\nexport function removeAuthentication() {\r\n  return { type: REMOVE_AUTHENTICATION };\r\n}\r\n","import React, { Component } from 'react';\r\nimport Modal from 'react-modal';\r\nimport { Link } from 'react-router-dom';\r\n\r\nimport axios from 'axios';\r\n\r\nimport \"../styles/user.sass\";\r\n\r\nclass UsersList extends Component {\r\n  constructor(props) {\r\n    super(props);\r\n\r\n    this.state = {\r\n      userModalIsOpen: false,\r\n      user: {}\r\n    };\r\n  }\r\n\r\n  showUserModal = user => {\r\n    this.setState({\r\n      userModalIsOpen: true,\r\n      user\r\n    });\r\n  }\r\n\r\n  closeUserModal = () => {\r\n    this.setState({\r\n      userModalIsOpen: false,\r\n      user: {}\r\n    });\r\n  }\r\n\r\n  render() {\r\n    return (\r\n      <div>\r\n        <ul {...this.props} className=\"users-search-list\">\r\n          {this.props.users.map(user => (<li className=\"users-search-list__item\" onClick={() => { this.showUserModal(user); }}><UserProfile user={user}/></li>))}\r\n        </ul>\r\n        <Modal\r\n          isOpen={this.state.userModalIsOpen}\r\n          onRequestClose={this.closeUserModal}\r\n          contentLabel=\"Find users\"\r\n        >\r\n          {\r\n            this.state.userModalIsOpen ? (\r\n              <div>\r\n                <UserView user={this.state.user} />\r\n                <Link to={\"/chat/conversation/\" + this.state.user._id.toString()} onClick={this.closeUserModal}>Go to messaging</Link>\r\n              </div>\r\n            ) : null}\r\n          <button className=\"close-modal-btn\" onClick={this.closeUserModal}>Close modal</button>\r\n        </Modal>\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nclass SearchUsersButton extends Component {\r\n  constructor(props) {\r\n    super(props);\r\n\r\n    this.state = {\r\n      users: [],\r\n      checked: false\r\n    };\r\n  }\r\n\r\n  findUsers = name => {\r\n    axios\r\n      .post('/api/users', { name: name, token: localStorage.getItem('token') })\r\n      .then(({ data: users }) => {\r\n        this.setState({ users });\r\n      })\r\n      .catch(err => {\r\n        console.log(err);\r\n      });\r\n  }\r\n\r\n  handleUsersChange = e => {\r\n    if (e.target.value === '') {\r\n      this.setState({\r\n        users: []\r\n      });\r\n    } else {\r\n      this.findUsers(e.target.value);\r\n    }\r\n  }\r\n\r\n  hideUsersList = e => {\r\n    setTimeout(() => {\r\n      this.setState({\r\n        checked: false\r\n      });\r\n    }, 200);\r\n  }\r\n\r\n  showUsersList = e => {\r\n    this.setState({\r\n      checked: true\r\n    });\r\n  }\r\n\r\n  render() {\r\n    return (\r\n      <form className=\"users-search-form\">\r\n        <input\r\n          onFocus={this.showUsersList}\r\n          onBlur={this.hideUsersList}\r\n          placeholder=\"Users search...\"\r\n          onChange={this.handleUsersChange}\r\n        />\r\n        <UsersList hidden={!this.state.checked} users={this.state.users} />\r\n      </form>\r\n    );\r\n  }\r\n}\r\n\r\nconst UserProfile = props => (\r\n  <div {...props} className=\"user-profile\">\r\n    <div className=\"user-profile__picture\">\r\n      <img src={props.user.info.photo || \"https://encrypted-tbn0.gstatic.com/images?q=tbn:ANd9GcTc5zNZV5Uc6ZwS4JAxBVS0DiqUtIAR_Q5u6-G42vMfNk3mFFLj\"} />\r\n    </div>\r\n    <div className=\"user-profile__info\">\r\n      <div className=\"user-profile__name\">{props.user.info.name}</div>\r\n      <div className=\"user-profile__email\">{props.user.email}</div>\r\n    </div>\r\n  </div>\r\n);\r\n\r\nconst wt = user => {\r\n  let s;\r\n\r\n  try {\r\n    s = (user.info.status.work_times.start || '') + ' - ' + (user.info.status.work_times.end || '')\r\n  } catch(e) {\r\n    s = '';\r\n  } finally {\r\n    return s;\r\n  }\r\n}\r\n\r\nconst UserView = ({user}) => (\r\n  <div className=\"user-info\">\r\n    <div className=\"user-info__picture\">\r\n      <img src={user.info.photo || \"https://encrypted-tbn0.gstatic.com/images?q=tbn:ANd9GcTc5zNZV5Uc6ZwS4JAxBVS0DiqUtIAR_Q5u6-G42vMfNk3mFFLj\"} />\r\n    </div>\r\n    <ul className=\"user-info__list\">\r\n      <li className=\"user-info__name\">name: {user.info.name || ''}</li>\r\n      <li className=\"user-info__email\">email: {user.email || ''}</li>\r\n      <li className=\"user-info__post\">post: {user.info.post || ''}</li>\r\n      <li className=\"user-info__salary\">salary: {user.info.salary || ''} UAH</li>\r\n      <li className=\"user-info__work-time\">workin time:{wt(user)}</li>\r\n      <li className=\"user-info__work-days\">\r\n        <div className={user.info.status.work_days.indexOf(1) == -1 ? \"day\" : \"day active-day\"}>Mn</div>\r\n        <div className={user.info.status.work_days.indexOf(2) == -1 ? \"day\" : \"day active-day\"}>Ts</div>\r\n        <div className={user.info.status.work_days.indexOf(3) == -1 ? \"day\" : \"day active-day\"}>Wd</div>\r\n        <div className={user.info.status.work_days.indexOf(4) == -1 ? \"day\" : \"day active-day\"}>Th</div>\r\n        <div className={user.info.status.work_days.indexOf(5) == -1 ? \"day\" : \"day active-day\"}>Fd</div>\r\n        <div className={user.info.status.work_days.indexOf(6) == -1 ? \"day\" : \"day active-day\"}>St</div>\r\n        <div className={user.info.status.work_days.indexOf(7) == -1 ? \"day\" : \"day active-day\"}>Sn</div>\r\n      </li>\r\n    </ul>\r\n  </div>\r\n);\r\n\r\nclass UserSettingsButton extends Component {\r\n  constructor(props) {\r\n    super(props);\r\n\r\n    try {\r\n      this.state = {\r\n        userModalIsOpen: false,\r\n        selectedFile: null,\r\n        workDays: this.props.user.info.status.work_days || [],\r\n        salary: this.props.user.info.salary || 0,\r\n        post: this.props.user.info.post || '',\r\n        startWorkTime: this.props.user.info.status.work_times.start || '',\r\n        endWorkTime: this.props.user.info.status.work_times.end || '',\r\n        phone: this.props.user.info.phone || '',\r\n        avatarImage: this.props.user.info.photo || '',\r\n        updatedUser: {}\r\n      };\r\n    } catch (e) {\r\n      console.log(e)\r\n      this.state = {\r\n        userModalIsOpen: false,\r\n        selectedFile: null,\r\n        workDays: [],\r\n        salary: 0,\r\n        post: '',\r\n        startWorkTime: '',\r\n        endWorkTime: '',\r\n        phone: '',\r\n        avatarImage: '',\r\n        updatedUser: {}\r\n      };\r\n    }\r\n  }\r\n\r\n  showUserModal = user => {\r\n    this.setState({\r\n      userModalIsOpen: true\r\n    });\r\n  }\r\n\r\n  closeUserModal = () => {\r\n    this.setState({\r\n      userModalIsOpen: false\r\n    });\r\n  }\r\n\r\n  onFileChange = e => {\r\n    this.setState({\r\n      selectedFile: e.target.files[0]\r\n    })\r\n  }\r\n\r\n  onWorkDaysChange = e => {\r\n    if (e.target.checked) {\r\n      this.setState({\r\n        workDays: this.state.workDays.concat(e.target.value)\r\n      });\r\n    } else {\r\n      this.setState({\r\n        workDays: this.state.workDays.filter(workDay => workDay != e.target.value)\r\n      });\r\n    }\r\n  }\r\n\r\n  onSalaryChange = e => {\r\n    this.setState({\r\n      salary: e.target.value\r\n    });\r\n  }\r\n\r\n  onPostChange = e => {\r\n    this.setState({\r\n      post: e.target.value\r\n    });\r\n  }\r\n\r\n  onPhoneChange = e => {\r\n    this.setState({\r\n      phone: e.target.value\r\n    });\r\n  }\r\n\r\n  onStartWorkTimeChange = e => {\r\n    this.setState({\r\n      startWorkTime: e.target.value\r\n    });\r\n  }\r\n\r\n  onEndWorkTimeChange = e => {\r\n    this.setState({\r\n      endWorkTime: e.target.value\r\n    });\r\n  }\r\n\r\n  validateForm() {\r\n    let valid = true;\r\n\r\n    if (/^((\\+|38|0)+([0-9]){9})$/m.test(this.state.phone) == false && this.state.phone != '') {\r\n      valid = false\r\n    }\r\n\r\n    return valid;\r\n  }\r\n\r\n  onSubmit = e => {\r\n    e.preventDefault();\r\n\r\n    if (!this.validateForm()) {\r\n      alert(\"Wrong data!\");\r\n      return false;\r\n    }\r\n\r\n    const data = new FormData();\r\n    data.append('token', localStorage.getItem('token'));\r\n    data.append('file', this.state.selectedFile);\r\n    data.append('workDays', JSON.stringify(this.state.workDays));\r\n    data.append('salary', this.state.salary);\r\n    data.append('post', this.state.post);\r\n    data.append('startWorkTime', this.state.startWorkTime);\r\n    data.append('endWorkTime', this.state.endWorkTime);\r\n    data.append('phone', this.state.phone);\r\n    data.append('avatarImage', this.state.avatarImage);\r\n\r\n    axios.post(\"/api/user/edit\", data, { headers: { 'content-type': 'multipart/form-data' }})\r\n      .then(({data: user}) => {\r\n        this.setState({updatedUser: user});\r\n      })\r\n      .then(() => {\r\n        this.props.onUpdating(this.state.updatedUser);\r\n      })\r\n      .then(() => {\r\n        this.closeUserModal();\r\n      })\r\n      .catch(err => {\r\n        console.error(err);\r\n      });\r\n  }\r\n\r\n  render() {\r\n    return (\r\n      <div>\r\n        <button className=\"user-settings-btn\" onClick={this.showUserModal}>Settings</button>\r\n        <Modal\r\n          isOpen={this.state.userModalIsOpen}\r\n          onRequestClose={this.closeUserModal}\r\n          contentLabel=\"Find users\"\r\n        >\r\n          <form className=\"user-settings-form\" onSubmit={this.onSubmit}>\r\n            <p><label>Photo</label><input onChange={this.onFileChange} name=\"photo\" type=\"file\" placeholder=\"choose photo\" /></p>\r\n            <p><label>salary</label><input onChange={this.onSalaryChange} placeholder={`${this.props.user.info.salary} UAH`} name=\"salary\" type=\"number\" /></p>\r\n            <p><label>Post</label><input onChange={this.onPostChange} placeholder={`${this.props.user.info.post || \"enter your post\"}`} name=\"post\" type=\"text\" /></p>\r\n            <p><label>Phone</label><input onChange={this.onPhoneChange} placeholder={`${this.props.user.info.phone || \"+380123456789\"}`} name=\"phone\" type=\"tel\" /></p>\r\n            <p>\r\n              <label>Work Days</label>\r\n              <div className=\"wd\"><label>Monday</label>{this.props.user.info.workDays && this.props.user.info.workDays.indexOf(1) != -1 ? <input checked onChange={this.onWorkDaysChange} value=\"1\" type=\"checkbox\" name=\"workDay\" id=\"\" /> : <input onChange={this.onWorkDaysChange} value=\"1\" type=\"checkbox\" name=\"workDay\" id=\"\" />}</div>\r\n              <div className=\"wd\"><label>Tuesday</label>{this.props.user.info.workDays && this.props.user.info.workDays.indexOf(2) != -1 ? <input checked onChange={this.onWorkDaysChange} value=\"2\" type=\"checkbox\" name=\"workDay\" id=\"\" /> : <input onChange={this.onWorkDaysChange} value=\"2\" type=\"checkbox\" name=\"workDay\" id=\"\" />}</div>\r\n              <div className=\"wd\"><label>Wednesday</label>{this.props.user.info.workDays && this.props.user.info.workDays.indexOf(3) != -1 ? <input checked onChange={this.onWorkDaysChange} value=\"3\" type=\"checkbox\" name=\"workDay\" id=\"\" /> : <input onChange={this.onWorkDaysChange} value=\"3\" type=\"checkbox\" name=\"workDay\" id=\"\" />}</div>\r\n              <div className=\"wd\"><label>Thursday</label>{this.props.user.info.workDays && this.props.user.info.workDays.indexOf(4) != -1 ? <input checked onChange={this.onWorkDaysChange} value=\"4\"  type=\"checkbox\" name=\"workDay\" id=\"\" /> : <input onChange={this.onWorkDaysChange} value=\"4\"  type=\"checkbox\" name=\"workDay\" id=\"\" />}</div>\r\n              <div className=\"wd\"><label>Friday</label>{this.props.user.info.workDays && this.props.user.info.workDays.indexOf(5) != -1 ? <input checked onChange={this.onWorkDaysChange} value=\"5\" type=\"checkbox\" name=\"workDay\" id=\"\" /> : <input onChange={this.onWorkDaysChange} value=\"5\" type=\"checkbox\" name=\"workDay\" id=\"\" />}</div>\r\n              <div className=\"wd\"><label>Saturday</label>{this.props.user.info.workDays && this.props.user.info.workDays.indexOf(6) != -1 ? <input checked onChange={this.onWorkDaysChange} value=\"6\" type=\"checkbox\" name=\"workDay\" id=\"\" /> : <input onChange={this.onWorkDaysChange} value=\"6\" type=\"checkbox\" name=\"workDay\" id=\"\" />}</div>\r\n              <div className=\"wd\"><label>Sunday</label>{this.props.user.info.workDays && this.props.user.info.workDays.indexOf(7) != -1 ? <input checked onChange={this.onWorkDaysChange} value=\"7\" type=\"checkbox\" name=\"workDay\" id=\"\" /> : <input onChange={this.onWorkDaysChange} value=\"7\" type=\"checkbox\" name=\"workDay\" id=\"\" />}</div>\r\n            </p>\r\n            <p>\r\n              <label>Work times</label>\r\n              <input onChange={this.onStartWorkTimeChange} name=\"workStart\" type=\"time\" />\r\n              <input onChange={this.onEndWorkTimeChange} name=\"workEnd\" type=\"time\" />\r\n            </p>\r\n            <input type=\"submit\" value=\"Confirm\" />\r\n          </form>\r\n\r\n          <button className=\"close-modal-btn\" onClick={this.closeUserModal}>Close modal</button>\r\n        </Modal>\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nexport { UserView, SearchUsersButton, UsersList, UserProfile, UserSettingsButton };\r\n","import React, { Component } from 'react';\r\nimport { connect } from \"react-redux\";\r\nimport { Redirect } from 'react-router-dom';\r\n\r\nimport { addAuthentication, removeAuthentication } from \"../actions/index\";\r\n\r\nimport axios from 'axios';\r\n\r\nfunction mapDispatchToProps(dispatch) {\r\n  return {\r\n    addAuthentication: () => dispatch(addAuthentication()),\r\n    removeAuthentication: () => dispatch(removeAuthentication())\r\n  };\r\n}\r\n\r\nclass LogoutComponent extends Component {\r\n  constructor(props) {\r\n    super(props);\r\n  }\r\n\r\n  logout = () => {\r\n    axios\r\n      .post('/api/auth/logout', { token: localStorage.getItem('token') })\r\n      .then(() => {\r\n        this.props.removeAuthentication();\r\n        localStorage.removeItem('token');\r\n        window.location.reload();\r\n      })\r\n      .catch(err => {\r\n        console.error(err);\r\n      })\r\n  }\r\n\r\n  render() {\r\n    return (\r\n      <span {...this.props} onClick={this.logout}>{this.props.children || 'logout'}</span>\r\n    )\r\n  }\r\n}\r\n\r\nclass AuthComponent extends Component {\r\n  constructor(props) {\r\n    super(props);\r\n\r\n    this.state = {\r\n      redirect: null\r\n    };\r\n  }\r\n\r\n  componentDidMount() {\r\n    const token = localStorage.getItem('token') || '';\r\n\r\n    if (!token || token === '') {\r\n      console.error('No auth data is found!');\r\n\r\n      if (this.props.failureRedirect) {\r\n        this.setState({\r\n          redirect: <Redirect to={this.props.failureRedirect} />\r\n        });\r\n      }\r\n    } else {\r\n      axios\r\n        .post('/api/auth/authorization', {token})\r\n        .then(() => {\r\n          if (this.props.successRedirect) {\r\n            this.setState({\r\n              redirect: <Redirect to={this.props.successRedirect} />\r\n            });\r\n          }\r\n\r\n          this.props.addAuthentication();\r\n        })\r\n        .catch(err => {\r\n          if (this.props.failureRedirect) {\r\n            this.setState({\r\n              redirect: <Redirect to={this.props.failureRedirect} />\r\n            });\r\n          }\r\n\r\n          this.props.removeAuthentication();\r\n\r\n          console.error('Failure authentication!');\r\n        });\r\n    }\r\n  }\r\n\r\n  render() {\r\n    return (\r\n      <div className=\"Auth\">{this.state.redirect}</div>\r\n    );\r\n  }\r\n}\r\n\r\nconst Auth = connect(null, mapDispatchToProps)(AuthComponent);\r\nconst LogoutBtn = connect(null, mapDispatchToProps)(LogoutComponent);\r\n\r\nexport {Auth, LogoutBtn};\r\n","import React, { Component } from 'react';\r\nimport Modal from 'react-modal';\r\nimport { connect } from \"react-redux\";\r\nimport { Link } from 'react-router-dom';\r\n\r\nimport axios from 'axios';\r\n\r\nimport { removeAuthentication } from \"../actions/index\";\r\n\r\nimport { SearchUsersButton } from \"./Users.jsx\";\r\nimport { LogoutBtn } from \"./Auth.jsx\";\r\n\r\nimport \"../styles/header.sass\";\r\n\r\nModal.setAppElement('#root');\r\n\r\nconst mapStateToProps = state => {\r\n  return { isAuthenticated: state.isAuthenticated };\r\n};\r\n\r\nconst Navigation = ({isAuthenticated}) => (\r\n  <div>\r\n    {\r\n      isAuthenticated == false ? (\r\n        <nav className=\"navigation\">\r\n          <li className=\"navigation__item\"><Link to=\"/sign-in\">login</Link></li>\r\n          <li className=\"navigation__item\"><Link to=\"/sign-up\">sign up</Link></li>\r\n        </nav>\r\n      ) : (\r\n        <nav className=\"navigation\">\r\n          <li className=\"navigation__item\"><Link to=\"/profile\">home</Link></li>\r\n          <li className=\"navigation__item\"><Link to=\"/chat\">chat</Link></li>\r\n          <li className=\"navigation__item\"><LogoutBtn /></li>\r\n        </nav>\r\n      )\r\n    }\r\n  </div>\r\n);\r\n\r\nconst Logo = () => (\r\n  <Link className=\"logo\" to=\"/profile\"><img src=\"https://www.okko.ua/adaptive/img/header/big-logo.svg\" alt=\"logo\" /></Link>\r\n);\r\n\r\nconst HeaderComponent = ({isAuthenticated}) => (\r\n  <header className=\"header\">\r\n    <Logo />\r\n    {isAuthenticated ? <SearchUsersButton /> : null}\r\n    <Navigation isAuthenticated={isAuthenticated}/>\r\n  </header>\r\n);\r\n\r\nconst Header = connect(mapStateToProps)(HeaderComponent);\r\n\r\nexport default Header;\r\n","import React, { Component } from 'react';\r\nimport { connect } from \"react-redux\";\r\n\r\nimport axios from 'axios';\r\n\r\nimport { addToken, addAuthentication, removeAuthentication } from \"../actions/index\";\r\n\r\nfunction mapDispatchToProps(dispatch) {\r\n  return {\r\n    addToken: token => dispatch(addToken(token)),\r\n    addAuthentication: () => dispatch(addAuthentication()),\r\n    removeAuthentication: () => dispatch(removeAuthentication())\r\n  };\r\n}\r\n\r\nconst mapStateToProps = state => {\r\n  return { token: state.token };\r\n};\r\n\r\nclass LoginForm extends Component {\r\n  constructor(props) {\r\n    super(props);\r\n\r\n    this.state = {\r\n      email: '',\r\n      password: ''\r\n    };\r\n  }\r\n\r\n  validateForm() {\r\n    return this.state.email.length > 5 && this.state.password.length > 8;\r\n  }\r\n\r\n  handleChange = e => {\r\n    this.setState({\r\n      [e.target.name]: e.target.value\r\n    });\r\n  }\r\n\r\n  handleSubmit = e => {\r\n    e.preventDefault();\r\n\r\n    if (this.validateForm() === true) {\r\n      axios\r\n        .post('/api/auth/sign-in', {\r\n          email: this.state.email,\r\n          password: this.state.password\r\n        })\r\n        .then(({ data: token }) => {\r\n          localStorage.setItem('token', token);\r\n          this.props.addToken(token);\r\n          this.props.addAuthentication();\r\n        })\r\n        .then(() => {\r\n          try {\r\n            this.props.success();\r\n          } catch (err) {\r\n            console.error(err);\r\n          }\r\n        })\r\n        .catch(err => {\r\n          localStorage.clear();\r\n          this.props.removeAuthentication();\r\n          console.error(err);\r\n        });\r\n    } else {\r\n      alert('incorrect data');\r\n    }\r\n  }\r\n\r\n  render() {\r\n    return (\r\n      <form className=\"login-form\" onSubmit={this.handleSubmit}>\r\n        <input\r\n          className=\"email\"\r\n          value={this.state.email}\r\n          type=\"email\"\r\n          onChange={this.handleChange}\r\n          name=\"email\"\r\n          placeholder=\"email\"\r\n          required\r\n        />\r\n        <input\r\n          className=\"password\"\r\n          value={this.state.password}\r\n          type=\"password\"\r\n          onChange={this.handleChange}\r\n          name=\"password\"\r\n          placeholder=\"password\"\r\n          required\r\n        />\r\n        <button\r\n          type=\"submit\"\r\n        >login</button>\r\n      </form>\r\n    )\r\n  }\r\n}\r\n\r\nconst Login = connect(mapStateToProps, mapDispatchToProps)(LoginForm);\r\n\r\nexport default Login;\r\n","import React, { Component } from 'react';\r\nimport { Redirect } from 'react-router-dom';\r\n\r\nimport LoginForm from '../components/LoginForm.jsx';\r\nimport { Auth } from '../components/Auth.jsx';\r\n\r\nimport \"../styles/auth.sass\";\r\n\r\nclass SignIn extends Component {\r\n  constructor(props) {\r\n    super(props);\r\n\r\n    this.state = {\r\n      redirect: false\r\n    }\r\n  }\r\n\r\n  successLogin = () => {\r\n    this.setState({\r\n      redirect: true\r\n    });\r\n  }\r\n\r\n  render() {\r\n    return (\r\n      <div className=\"auth-form\">\r\n        <h2 className=\"title\">Login</h2>\r\n        {this.state.redirect ? <Redirect to=\"/profile\" /> : null}\r\n        <Auth successRedirect=\"/profile\" />\r\n        <LoginForm success={this.successLogin} />\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nexport default SignIn;\r\n","import React, { Component } from 'react';\r\nimport { connect } from \"react-redux\";\r\n\r\nimport axios from 'axios';\r\n\r\nimport { addToken, addAuthentication, removeAuthentication } from \"../actions/index\";\r\n\r\nfunction mapDispatchToProps(dispatch) {\r\n  return {\r\n    addToken: token => dispatch(addToken(token)),\r\n    addAuthentication: () => dispatch(addAuthentication()),\r\n    removeAuthentication: () => dispatch(removeAuthentication())\r\n  };\r\n}\r\n\r\nconst mapStateToProps = state => {\r\n  return { token: state.token };\r\n};\r\n\r\nclass RegistrationForm extends Component {\r\n  constructor(props) {\r\n    super(props);\r\n\r\n    this.state = {\r\n      username: '',\r\n      email: '',\r\n      reEmail: '',\r\n      password: '',\r\n      rePassword: ''\r\n    };\r\n  }\r\n\r\n  validateForm() {\r\n    return this.state.username.length > 5 && this.state.email !== '' && this.state.password !== '' && this.state.email === this.state.reEmail && this.state.password === this.state.rePassword;\r\n  }\r\n\r\n  handleChange = e => {\r\n    this.setState({\r\n      [e.target.name]: e.target.value\r\n    });\r\n  }\r\n\r\n  handleSubmit = e => {\r\n    e.preventDefault();\r\n\r\n    if (this.validateForm() === true) {\r\n      axios\r\n        .post('/api/auth/sign-up', {\r\n          username: this.state.username,\r\n          email: this.state.email,\r\n          password: this.state.password\r\n        })\r\n        .then(({ data: token }) => {\r\n          localStorage.setItem('token', token);\r\n          this.props.addToken(token);\r\n          this.props.addAuthentication();\r\n        })\r\n        .then(() => {\r\n          try {\r\n            this.props.success();\r\n          } catch (err) {\r\n            console.error(err);\r\n          }\r\n        })\r\n        .catch(err => {\r\n          localStorage.clear();\r\n          this.props.removeAuthentication();\r\n          console.error(err);\r\n        });\r\n    } else {\r\n      alert('incorrect data');\r\n    }\r\n  }\r\n\r\n  render() {\r\n    return (\r\n      <form className=\"registration-form\" onSubmit={this.handleSubmit}>\r\n        <input\r\n          name=\"username\"\r\n          type=\"text\"\r\n          placeholder=\"full name\"\r\n          onChange={this.handleChange}\r\n          required=\"required\"\r\n        />\r\n        <input\r\n          name=\"email\"\r\n          type=\"email\"\r\n          placeholder=\"email\"\r\n          onChange={this.handleChange}\r\n          required=\"required\"\r\n        />\r\n        <input\r\n          name=\"reEmail\"\r\n          type=\"email\"\r\n          placeholder=\"retype email\"\r\n          onChange={this.handleChange}\r\n          required=\"required\"\r\n        />\r\n        <input\r\n          name=\"password\"\r\n          type=\"password\"\r\n          placeholder=\"password\"\r\n          onChange={this.handleChange}\r\n          required=\"required\"\r\n        />\r\n        <input\r\n          name=\"rePassword\"\r\n          type=\"password\"\r\n          placeholder=\"retype password\"\r\n          onChange={this.handleChange}\r\n          required=\"required\"\r\n        />\r\n        <button type=\"submit\">sign up</button>\r\n      </form>\r\n    );\r\n  }\r\n}\r\n\r\nconst Registration = connect(mapStateToProps, mapDispatchToProps)(RegistrationForm);\r\n\r\nexport default Registration;\r\n","import React, { Component } from 'react';\r\nimport { Redirect } from 'react-router-dom';\r\n\r\nimport RegistrationForm from '../components/RegistrationForm.jsx';\r\nimport { Auth } from '../components/Auth.jsx';\r\n\r\nimport \"../styles/auth.sass\";\r\n\r\nclass SignUp extends Component {\r\n  constructor(props) {\r\n    super(props);\r\n\r\n    this.state = {\r\n      redirect: false\r\n    }\r\n  }\r\n\r\n  successregistration = () => {\r\n    this.setState({\r\n      redirect: true\r\n    });\r\n  }\r\n\r\n  render() {\r\n    return (\r\n      <div className=\"auth-form\">\r\n        <h2 className=\"title\">Registration</h2>\r\n        {this.state.redirect ? <Redirect to=\"/profile\" /> : null}\r\n        <Auth successRedirect=\"/profile\" />\r\n        <RegistrationForm success={this.successregistration} />\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nexport default SignUp;\r\n","import React, { Component } from 'react';\r\n\r\nimport axios from 'axios';\r\n\r\nimport { Auth } from '../components/Auth.jsx';\r\nimport { UserSettingsButton, UserView } from '../components/Users.jsx';\r\n\r\nclass Profile extends Component {\r\n  constructor(props) {\r\n    super(props);\r\n\r\n    this.state = {\r\n      user: {\r\n        info: {\r\n          status: {\r\n            work_times: {},\r\n            work_days: []\r\n          }\r\n        }\r\n      }\r\n    };\r\n  }\r\n\r\n  componentDidMount() {\r\n    axios\r\n      .post('/api/user/current-user', {token: localStorage.getItem('token')})\r\n      .then(({data: user}) => {\r\n        this.setState({user});\r\n        console.log()\r\n      })\r\n      .catch(err => {\r\n        console.error(err);\r\n      });\r\n  }\r\n\r\n  handleUserUpdate = user => {\r\n    this.setState({user});\r\n  }\r\n\r\n  render() {\r\n    return (\r\n      <div>\r\n        <Auth failureRedirect=\"/sign-in\" />\r\n        <UserSettingsButton onUpdating={this.handleUserUpdate} user={this.state.user} />\r\n        <UserView user={this.state.user} />\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nexport default Profile;\r\n","import React, { Component } from 'react';\r\nimport { Link } from 'react-router-dom';\r\nimport Modal from 'react-modal';\r\n\r\nimport axios from 'axios';\r\n\r\nimport { UserProfile } from \"./Users.jsx\";\r\n\r\nimport \"../styles/chat.sass\";\r\n\r\nfunction getTime(timestamp) {\r\n  const date = timestamp.toString().slice(0,10);\r\n  let time = timestamp.toString().slice(11,16);\r\n\r\n  return `${date} ${time}`;\r\n}\r\n\r\nconst ChatView = ({chat}) => (\r\n  <div className=\"chat-view\">\r\n    <div className=\"chat-view__poster\">\r\n      <img src=\"https://ik.imagekit.io/PrintOctopus/s/files/1/0006/0158/7777/products/dab_life.png?v=1554963498\" />\r\n    </div>\r\n    <div className=\"chat-view__info\">\r\n      <div className=\"chat-view__title\">{chat.name}</div>\r\n      <div className=\"chat-view__users-count\">users: {chat.users.length - 1}</div>\r\n      <div className=\"chat-view__messages-count\">messages: {chat.messages.length}</div>\r\n      <div className=\"chat-view__latest-update\">{getTime(chat.updatedAt)}</div>\r\n    </div>\r\n  </div>\r\n);\r\n\r\nconst ChatList = props => {\r\n  if (!Array.isArray(props.chats)) {\r\n    return null;\r\n  }\r\n\r\n  return (\r\n    <div className=\"chats\">\r\n      <ul className=\"chat-list\">\r\n        <h3>Users chats:</h3>\r\n        {\r\n          props.chats\r\n            .filter(chat => chat.name === 'conversation')\r\n            .map(chat => <li key={chat._id} className=\"chat-list__item\"><Link to={\"/chat/conversation/\" + chat.users[1].toString()}><ChatView chat={chat} /></Link></li>)\r\n        }\r\n      </ul>\r\n      <ul className=\"chat-list\">\r\n        <h3>Group chats:</h3>\r\n        {\r\n          props.chats\r\n            .filter(chat => chat.name !== 'conversation')\r\n            .map(chat => <li key={chat._id} className=\"chat-list__item\"><Link to={\"/chat/discussion/\" + chat._id.toString()}><ChatView chat={chat} /></Link></li>)\r\n        }\r\n      </ul>\r\n    </div>\r\n  );\r\n};\r\n\r\nclass CreateChatComponent extends Component {\r\n  constructor(props) {\r\n    super(props);\r\n\r\n    this.state = {\r\n      chatName: ''\r\n    };\r\n  }\r\n\r\n  validateForm() {\r\n    return this.state.chatName !== '';\r\n  }\r\n\r\n  handleChange = e => {\r\n    this.setState({\r\n      [e.target.name]: e.target.value\r\n    });\r\n  }\r\n\r\n  handleSubmit = e => {\r\n    e.preventDefault();\r\n\r\n    if (this.validateForm() === true) {\r\n      axios\r\n        .post('/api/chat/create', { token: localStorage.getItem('token'), private: false, name: this.state.chatName })\r\n        .then(({ data: chat }) => {\r\n          if (this.props.afterCreate) {\r\n            this.props.afterCreate(chat);\r\n          }\r\n        })\r\n        .catch(err => {\r\n          console.log(err);\r\n          alert(\"Cannot create chat! Try again(\");\r\n        });\r\n    } else {\r\n      alert('incorrect data');\r\n    }\r\n  }\r\n\r\n  render() {\r\n    return (\r\n      <form onSubmit={this.handleSubmit}>\r\n        <input\r\n          type=\"text\"\r\n          onChange={this.handleChange}\r\n          name=\"chatName\"\r\n          placeholder=\"Chat name\"\r\n          required=\"required\"\r\n        />\r\n        <button type=\"submit\">create</button>\r\n      </form>\r\n    );\r\n  }\r\n}\r\n\r\nclass AddUserToChatBtn extends Component {\r\n  constructor(props) {\r\n    super(props);\r\n\r\n    this.state = {\r\n      addUserToChatModalIsOpen: false,\r\n      users: []\r\n    };\r\n  }\r\n\r\n  showAddUsersToChatModal = () => {\r\n    this.setState({\r\n      addUserToChatModalIsOpen: true\r\n    });\r\n  }\r\n\r\n  hideAddUsersToChatModal = () => {\r\n    this.setState({\r\n      addUserToChatModalIsOpen: false,\r\n      requestProcessing: false\r\n    });\r\n  }\r\n\r\n  findUsers = name => {\r\n    this.setState({requestProcessing: true});\r\n\r\n    axios\r\n      .post('/api/users', { name, token: localStorage.getItem('token') })\r\n      .then(({ data: users }) => {\r\n        this.setState({ users, requestProcessing: false });\r\n      })\r\n      .catch(err => {\r\n        console.log(err);\r\n        this.setState({requestProcessing: false});\r\n      });\r\n  }\r\n\r\n  handleUsersChange = e => {\r\n    if (e.target.value === '') {\r\n      this.setState({\r\n        users: []\r\n      });\r\n    } else {\r\n      this.findUsers(e.target.value);\r\n    }\r\n  }\r\n\r\n  addUser = userId => {\r\n    axios\r\n      .post('/api/chat/add-user', {token: localStorage.getItem('token'), userId, chatId: this.props.chatId})\r\n      .then(resolve => {\r\n        this.setState({\r\n          users: []\r\n        });\r\n      })\r\n      .catch(err => {\r\n        console.error(err);\r\n      })\r\n  }\r\n\r\n  render() {\r\n    return (\r\n      <div className=\"add-user-btn\">\r\n        <button onClick={this.showAddUsersToChatModal}>add user</button>\r\n        <Modal\r\n          isOpen={this.state.addUserToChatModalIsOpen}\r\n          onRequestClose={this.hideAddUsersToChatModal}\r\n          contentLabel=\"Add users\"\r\n        >\r\n          <h2>Add users to chat:</h2>\r\n          <input placeholder=\"Enter username...\" className=\"add-users-to-chat-input\" onChange={this.handleUsersChange} />\r\n          <ul className=\"add-users-to-chat-list\">\r\n            {\r\n              this.state.users.map(user => (\r\n                <li key={user._id}>\r\n                  <UserProfile user={user}/>\r\n                  {\r\n                    user.info.chats.indexOf(this.props.chatId) === -1 ? <button className=\"add-users-to-chat-btn\" onClick={() => {this.addUser(user._id)}}>add user</button> : null\r\n                  }\r\n                </li>\r\n              ))\r\n            }\r\n          </ul>\r\n          <button className=\"close-modal-btn\" onClick={this.hideAddUsersToChatModal}>Close modal</button>\r\n        </Modal>\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nexport { CreateChatComponent, ChatList, AddUserToChatBtn };\r\n","import React, { Component } from 'react';\r\nimport Modal from 'react-modal';\r\n\r\nimport axios from 'axios';\r\n\r\nimport { Auth } from '../components/Auth.jsx';\r\nimport { ChatList, CreateChatComponent as CreateChat } from '../components/Chat.jsx';\r\n\r\nModal.setAppElement('#root');\r\n\r\nclass Chat extends Component {\r\n  constructor(props) {\r\n    super(props);\r\n\r\n    this.state = {\r\n      createChatModalIsOpen: false,\r\n      chats: []\r\n    }\r\n  }\r\n\r\n  componentDidMount() {\r\n    axios\r\n      .post('/api/chat/chat-rooms', { token: localStorage.getItem('token') })\r\n      .then(({ data: chats }) => {\r\n        this.setState({ chats });\r\n      })\r\n      .catch(err => {\r\n        console.error(err);\r\n      })\r\n  }\r\n\r\n  showCreateChatForm = () => {\r\n    this.setState({\r\n      createChatModalIsOpen: true\r\n    });\r\n  }\r\n\r\n  closeCreateChatForm = () => {\r\n    this.setState({\r\n      createChatModalIsOpen: false\r\n    });\r\n  }\r\n\r\n  afterChatCreate = chat => {\r\n    this.setState({\r\n      chats: this.state.chats.concat(chat)\r\n    });\r\n    this.closeCreateChatForm();\r\n  }\r\n\r\n  render() {\r\n    return (\r\n      <div>\r\n        <Auth failureRedirect=\"/sign-in\" />\r\n        <Modal\r\n          isOpen={this.state.createChatModalIsOpen}\r\n          onRequestClose={this.closeCreateChatForm}\r\n          contentLabel=\"Create chat\"\r\n        >\r\n          <CreateChat afterCreate={this.afterChatCreate} />\r\n          <button className=\"close-modal-btn\" onClick={this.closeCreateChatForm}>Close modal</button>\r\n        </Modal>\r\n        <button className=\"create-chat-btn\" onClick={this.showCreateChatForm}>Create chat</button>\r\n        <ChatList chats={this.state.chats} />\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nexport default Chat;\r\n","import React, { Component } from 'react';\r\n\r\nimport axios from \"axios\";\r\nimport socketIOClient from \"socket.io-client\";\r\n\r\nimport { MessageList, AddUserToChatBtn } from \"../components/Chat.jsx\";\r\n\r\nimport \"../styles/message.sass\";\r\n\r\nclass Message extends Component {\r\n  constructor(props) {\r\n    super(props);\r\n\r\n    this.textInput = React.createRef();\r\n\r\n    this.state = {\r\n      messages: [],\r\n      sendingMessage: '',\r\n      chatId: null,\r\n      interlocutorId: null,\r\n      socket: null\r\n    };\r\n  }\r\n\r\n  componentDidMount() {\r\n    const {chatId, direction} = this.props.match.params;\r\n\r\n    axios\r\n      .get('/api/hostname')\r\n      .then(resolve => {\r\n        const socket = socketIOClient(resolve.data == 'localhost:3000' ? 'localhost:5000' : resolve.data);\r\n        this.setState({\r\n          socket: socket\r\n        })\r\n      })\r\n      .then(() => {\r\n        this.state.socket.emit('join to room', {chatId});\r\n        this.state.socket.on('message', ({message}) => {\r\n          this.setState({\r\n            messages: this.state.messages.concat(message)\r\n          });\r\n        });\r\n      })\r\n      .catch(err => {\r\n        console.error(err);\r\n      })\r\n\r\n    switch (direction) {\r\n      case 'conversation':\r\n        this.getConversationMessages(chatId);\r\n        break;\r\n      case 'discussion':\r\n        this.getDiscussionMessages(chatId);\r\n        break;\r\n      default:\r\n        console.log('redirect to error page');\r\n    }\r\n  }\r\n\r\n  componentDidUpdate(prevProps, prevState) {\r\n      if (prevProps.match.params != this.props.match.params) {\r\n          const {chatId, direction} = this.props.match.params;\r\n\r\n          switch (direction) {\r\n            case 'conversation':\r\n              this.getConversationMessages(chatId);\r\n              break;\r\n            case 'discussion':\r\n              this.getDiscussionMessages(chatId);\r\n              break;\r\n            default:\r\n              console.log('redirect to error page');\r\n          }\r\n      } else {\r\n        return false;\r\n      }\r\n  }\r\n\r\n  getConversationMessages = interlocutorId => {\r\n    axios\r\n      .post('/api/chat/conversation', {token: localStorage.getItem('token'), interlocutorId})\r\n      .then(({data: chat}) => {\r\n        this.setState({ chatId: chat._id, interlocutorId });\r\n        return chat._id;\r\n      })\r\n      .then(chatId => {\r\n        axios\r\n          .post('/api/chat/messages',  {token: localStorage.getItem('token'), chatId})\r\n          .then(({data: messages}) => {\r\n            this.setState({ messages });\r\n          });\r\n      })\r\n      .catch(err => {\r\n        console.error(err);\r\n      });\r\n  }\r\n\r\n  getDiscussionMessages = chatId => {\r\n    axios\r\n      .post('/api/chat/discussion', {token: localStorage.getItem('token'), chatId})\r\n      .then(({data: chat}) => {\r\n        this.setState({ chatId: chat._id });\r\n        return chat._id;\r\n      })\r\n      .then(chatId => {\r\n        axios\r\n          .post('/api/chat/messages',  {token: localStorage.getItem('token'), chatId})\r\n          .then(({data: messages}) => {\r\n            this.setState({ messages });\r\n          });\r\n      })\r\n      .catch(err => {\r\n        console.error(err);\r\n      });\r\n  }\r\n\r\n  sendMessage = e => {\r\n    e.preventDefault();\r\n\r\n    axios\r\n      .post('/api/chat/message', {\r\n        token: localStorage.getItem('token'),\r\n        message: this.state.sendingMessage,\r\n        chatId: this.state.chatId,\r\n        interlocutorId: this.state.interlocutorId\r\n      })\r\n      .then(({data: message}) => {\r\n        try {\r\n          this.state.socket.emit('chat message', {room: this.props.match.params.chatId, message});\r\n        } catch (e) {} finally {\r\n          this.textInput.current.value = '';\r\n          this.setState({\r\n            messages: this.state.messages.concat(message),\r\n            sendingMessage: ''\r\n          });\r\n        }\r\n      })\r\n      .catch(err => {\r\n        console.error(err);\r\n      });\r\n  }\r\n\r\n  handleMessageChange = e => {\r\n    this.setState({\r\n      sendingMessage: e.target.value\r\n    });\r\n  }\r\n\r\n  render() {\r\n    return (\r\n      <div className=\"messages-container\">\r\n        {\r\n          this.props.match.params.direction === 'discussion' ? <AddUserToChatBtn chatId={this.state.chatId}/> : null\r\n        }\r\n        <ul className=\"messages-list\">\r\n          {\r\n            this.state.messages.map(message => (\r\n              <li key={message._id}>\r\n                <div className=\"user-view\">\r\n                  <div className=\"user-view__picture\">\r\n                    <img src={message.author.info.photo || \"https://encrypted-tbn0.gstatic.com/images?q=tbn:ANd9GcTc5zNZV5Uc6ZwS4JAxBVS0DiqUtIAR_Q5u6-G42vMfNk3mFFLj\"} />\r\n                  </div>\r\n                  <div className=\"user-view__info\">\r\n                    <span className=\"user-view__name\">{message.author.info.name}</span>\r\n                    <span className=\"user-view__email\">{message.author.email}</span>\r\n                  </div>\r\n                </div>\r\n                <p className=\"message\">{message.text}</p>\r\n              </li>\r\n            ))\r\n          }\r\n        </ul>\r\n        <form className=\"message-form\" onSubmit={this.sendMessage}>\r\n          <input ref={this.textInput} type=\"text\" required=\"required\" onChange={this.handleMessageChange} placeholder=\"Enter message...\" />\r\n          <button type=\"submit\">send</button>\r\n        </form>\r\n      </div>\r\n    )\r\n  }\r\n}\r\n\r\nexport default Message;\r\n","import React from 'react';\r\nimport ReactDOM from 'react-dom';\r\n\r\nimport { Provider } from \"react-redux\";\r\n\r\nimport './index.css';\r\n// import App from './App';\r\nimport * as serviceWorker from './serviceWorker';\r\n\r\nimport { BrowserRouter, Route, Switch } from 'react-router-dom';\r\n\r\nimport store from \"./store/index\";\r\nimport { addArticle, addToken } from \"./actions/index\";\r\n\r\nimport Header from './components/Header.jsx';\r\n\r\nimport SignInPage from './pages/SignIn.jsx';\r\nimport SignUpPage from './pages/SignUp.jsx';\r\nimport ProfilePage from './pages/Profile.jsx';\r\nimport ChatPage from './pages/Chat.jsx';\r\nimport MessagePage from './pages/Message.jsx';\r\n\r\nimport { Auth } from './components/Auth.jsx';\r\n\r\nimport \"./styles/style.sass\";\r\n\r\nwindow.store = store;\r\nwindow.addArticle = addArticle;\r\nwindow.addToken = addToken;\r\n\r\nReactDOM.render(\r\n  <Provider store={store}>\r\n    <BrowserRouter>\r\n      <Auth failureRedirect=\"/sign-in\"  />\r\n      <Header />\r\n\r\n      <Switch>\r\n        <Route path=\"/sign-in\" component={SignInPage} />\r\n        <Route path=\"/sign-up\" component={SignUpPage} />\r\n        <Route path=\"/profile\" component={ProfilePage} />\r\n        <Route exact path=\"/chat\" component={ChatPage} />\r\n        <Route path=\"/chat/:direction/:chatId\" component={MessagePage} />\r\n      </Switch>\r\n    </BrowserRouter>\r\n  </Provider>,\r\n  document.getElementById('root')\r\n);\r\n\r\n// ReactDOM.render(<App />, document.getElementById('root'));\r\n\r\n// If you want your app to work offline and load faster, you can change\r\n// unregister() to register() below. Note this comes with some pitfalls.\r\n// Learn more about service workers: https://bit.ly/CRA-PWA\r\nserviceWorker.register();\r\n"],"sourceRoot":""}